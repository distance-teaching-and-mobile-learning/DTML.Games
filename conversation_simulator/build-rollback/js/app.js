!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=132)}([function(t,e,n){var i=n(1),r=n(7),o=n(14),a=n(11),s=n(17),u=function(t,e,n){var c,h,l,f,p=t&u.F,d=t&u.G,g=t&u.S,y=t&u.P,m=t&u.B,v=d?i:g?i[e]||(i[e]={}):(i[e]||{}).prototype,_=d?r:r[e]||(r[e]={}),b=_.prototype||(_.prototype={});for(c in d&&(n=e),n)l=((h=!p&&v&&void 0!==v[c])?v:n)[c],f=m&&h?s(l,i):y&&"function"==typeof l?s(Function.call,l):l,v&&a(v,c,l,t&u.U),_[c]!=l&&o(_,c,f),y&&b[c]!=l&&(b[c]=l)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(48)("wks"),r=n(29),o=n(1).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(19),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(3),r=n(94),o=n(26),a=Object.defineProperty;e.f=n(9)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(2)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(24);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(1),r=n(14),o=n(13),a=n(29)("src"),s=n(137),u=(""+s).split("toString");n(7).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||r(n,a,t[e]?""+t[e]:u.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var i=n(0),r=n(2),o=n(24),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(8),r=n(28);t.exports=n(9)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(44),r=n(24);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";var i=n(2);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var i=n(18);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(45),r=n(28),o=n(15),a=n(26),s=n(13),u=n(94),c=Object.getOwnPropertyDescriptor;e.f=n(9)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(0),r=n(7),o=n(2);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var i=n(17),r=n(44),o=n(10),a=n(6),s=n(110);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,h=4==t,l=6==t,f=5==t||l,p=e||s;return function(e,s,d){for(var g,y,m=o(e),v=r(m),_=i(s,d,3),b=a(v.length),w=0,S=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((f||w in v)&&(y=_(g=v[w],w,m),t))if(n)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:S.push(g)}else if(h)return!1;return l?-1:c||h?h:S}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(9)){var i=n(30),r=n(1),o=n(2),a=n(0),s=n(59),u=n(88),c=n(17),h=n(42),l=n(28),f=n(14),p=n(43),d=n(19),g=n(6),y=n(121),m=n(32),v=n(26),_=n(13),b=n(46),w=n(4),S=n(10),T=n(80),O=n(33),x=n(35),E=n(34).f,P=n(82),I=n(29),k=n(5),A=n(22),N=n(49),C=n(47),M=n(84),L=n(40),j=n(52),F=n(41),R=n(83),B=n(112),D=n(8),U=n(20),V=D.f,K=U.f,J=r.RangeError,Y=r.TypeError,W=r.Uint8Array,G=Array.prototype,X=u.ArrayBuffer,H=u.DataView,z=A(0),q=A(2),Q=A(3),$=A(4),Z=A(5),tt=A(6),et=N(!0),nt=N(!1),it=M.values,rt=M.keys,ot=M.entries,at=G.lastIndexOf,st=G.reduce,ut=G.reduceRight,ct=G.join,ht=G.sort,lt=G.slice,ft=G.toString,pt=G.toLocaleString,dt=k("iterator"),gt=k("toStringTag"),yt=I("typed_constructor"),mt=I("def_constructor"),vt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=A(1,function(t,e){return Et(C(t,t[mt]),e)}),St=o(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Tt=!!W&&!!W.prototype.set&&o(function(){new W(1).set({})}),Ot=function(t,e){var n=d(t);if(n<0||n%e)throw J("Wrong offset!");return n},xt=function(t){if(w(t)&&_t in t)return t;throw Y(t+" is not a typed array!")},Et=function(t,e){if(!(w(t)&&yt in t))throw Y("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return It(C(t,t[mt]),e)},It=function(t,e){for(var n=0,i=e.length,r=Et(t,i);i>n;)r[n]=e[n++];return r},kt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},At=function(t){var e,n,i,r,o,a,s=S(t),u=arguments.length,h=u>1?arguments[1]:void 0,l=void 0!==h,f=P(s);if(null!=f&&!T(f)){for(a=f.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(l&&u>2&&(h=c(h,arguments[2],2)),e=0,n=g(s.length),r=Et(this,n);n>e;e++)r[e]=l?h(s[e],e):s[e];return r},Nt=function(){for(var t=0,e=arguments.length,n=Et(this,e);e>t;)n[t]=arguments[t++];return n},Ct=!!W&&o(function(){pt.call(new W(1))}),Mt=function(){return pt.apply(Ct?lt.call(xt(this)):xt(this),arguments)},Lt={copyWithin:function(t,e){return B.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return R.apply(xt(this),arguments)},filter:function(t){return Pt(this,q(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){z(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(xt(this),arguments)},lastIndexOf:function(t){return at.apply(xt(this),arguments)},map:function(t){return wt(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(xt(this),arguments)},reduceRight:function(t){return ut.apply(xt(this),arguments)},reverse:function(){for(var t,e=xt(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(xt(this),t)},subarray:function(t,e){var n=xt(this),i=n.length,r=m(t,i);return new(C(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?i:m(e,i))-r))}},jt=function(t,e){return Pt(this,lt.call(xt(this),t,e))},Ft=function(t){xt(this);var e=Ot(arguments[1],1),n=this.length,i=S(t),r=g(i.length),o=0;if(r+e>n)throw J("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Rt={entries:function(){return ot.call(xt(this))},keys:function(){return rt.call(xt(this))},values:function(){return it.call(xt(this))}},Bt=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Dt=function(t,e){return Bt(t,e=v(e,!0))?l(2,t[e]):K(t,e)},Ut=function(t,e,n){return!(Bt(t,e=v(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};vt||(U.f=Dt,D.f=Ut),a(a.S+a.F*!vt,"Object",{getOwnPropertyDescriptor:Dt,defineProperty:Ut}),o(function(){ft.call({})})&&(ft=pt=function(){return ct.call(this)});var Vt=p({},Lt);p(Vt,Rt),f(Vt,dt,Rt.values),p(Vt,{slice:jt,set:Ft,constructor:function(){},toString:ft,toLocaleString:Mt}),kt(Vt,"buffer","b"),kt(Vt,"byteOffset","o"),kt(Vt,"byteLength","l"),kt(Vt,"length","e"),V(Vt,gt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",l="get"+t,p="set"+t,d=r[c],m=d||{},v=d&&x(d),_=!d||!s.ABV,S={},T=d&&d.prototype,P=function(t,n){V(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[l](n*e+i.o,St)}(this,n)},set:function(t){return function(t,n,i){var r=t._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,St)}(this,n,t)},enumerable:!0})};_?(d=n(function(t,n,i,r){h(t,d,c,"_d");var o,a,s,u,l=0,p=0;if(w(n)){if(!(n instanceof X||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return _t in n?It(d,n):At.call(d,n);o=n,p=Ot(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw J("Wrong length!");if((a=m-p)<0)throw J("Wrong length!")}else if((a=g(r)*e)+p>m)throw J("Wrong length!");s=a/e}else s=y(n),o=new X(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new H(o)});l<s;)P(t,l++)}),T=d.prototype=O(Vt),f(T,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&j(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,i,r){var o;return h(t,d,c),w(n)?n instanceof X||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==r?new m(n,Ot(i,e),r):void 0!==i?new m(n,Ot(i,e)):new m(n):_t in n?It(d,n):At.call(d,n):new m(y(n))}),z(v!==Function.prototype?E(m).concat(E(v)):E(m),function(t){t in d||f(d,t,m[t])}),d.prototype=T,i||(T.constructor=d));var I=T[dt],k=!!I&&("values"==I.name||null==I.name),A=Rt.values;f(d,yt,!0),f(T,_t,c),f(T,bt,!0),f(T,mt,d),(u?new d(1)[gt]==c:gt in T)||V(T,gt,{get:function(){return c}}),S[c]=d,a(a.G+a.W+a.F*(d!=m),S),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){m.of.call(d,1)}),c,{from:At,of:Nt}),"BYTES_PER_ELEMENT"in T||f(T,"BYTES_PER_ELEMENT",e),a(a.P,c,Lt),F(c),a(a.P+a.F*Tt,c,{set:Ft}),a(a.P+a.F*!k,c,Rt),i||T.toString==ft||(T.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:jt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),c,{toLocaleString:Mt}),L[c]=k?I:A,i||k||f(T,dt,A)}}else t.exports=function(){}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(29)("meta"),r=n(4),o=n(13),a=n(8).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(2)(function(){return u(Object.preventExtensions({}))}),h=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[i].w},onFreeze:function(t){return c&&l.NEED&&u(t)&&!o(t,i)&&h(t),t}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var i=n(96),r=n(67);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(19),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(3),r=n(97),o=n(67),a=n(66)("IE_PROTO"),s=function(){},u=function(){var t,e=n(64)("iframe"),i=o.length;for(e.style.display="none",n(68).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(96),r=n(67).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(13),r=n(10),o=n(66)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(5)("unscopables"),r=Array.prototype;null==r[i]&&n(14)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i=n(8).f,r=n(13),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(0),r=n(24),o=n(2),a=n(70),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),u=r[t]=s?e(l):a[t];n&&(r[n]=u),i(i.P+i.F*s,"String",r)},l=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(1),r=n(8),o=n(9),a=n(5)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(11);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(23),r=n(5)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(3),r=n(18),o=n(5)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[o])?e:r(n)}},function(t,e,n){var i=n(7),r=n(1),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(30)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(15),r=n(6),o=n(32);t.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),h=o(a,c);if(t&&n!=n){for(;c>h;)if((s=u[h++])!=s)return!0}else for(;c>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(23);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(5)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(3);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(46),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(114);var i=n(11),r=n(14),o=n(2),a=n(24),s=n(5),u=n(85),c=s("species"),h=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),p=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),d=p?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e}):void 0;if(!p||!d||"replace"===t&&!h||"split"===t&&!l){var g=/./[f],y=n(a,f,""[t],function(t,e,n,i,r){return e.exec===u?p&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),m=y[0],v=y[1];i(String.prototype,t,m),r(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},function(t,e,n){var i=n(17),r=n(109),o=n(80),a=n(3),s=n(6),u=n(82),c={},h={};(e=t.exports=function(t,e,n,l,f){var p,d,g,y,m=f?function(){return t}:u(t),v=i(n,l,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=s(t.length);p>_;_++)if((y=e?v(a(d=t[_])[0],d[1]):v(t[_]))===c||y===h)return y}else for(g=m.call(t);!(d=g.next()).done;)if((y=r(g,v,d.value,e))===c||y===h)return y}).BREAK=c,e.RETURN=h},function(t,e,n){var i=n(1).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(1),r=n(0),o=n(11),a=n(43),s=n(27),u=n(56),c=n(42),h=n(4),l=n(2),f=n(52),p=n(38),d=n(71);t.exports=function(t,e,n,g,y,m){var v=i[t],_=v,b=y?"set":"add",w=_&&_.prototype,S={},T=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(m||w.forEach&&!l(function(){(new _).entries().next()}))){var O=new _,x=O[b](m?{}:-0,1)!=O,E=l(function(){O.has(1)}),P=f(function(t){new _(t)}),I=!m&&l(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});P||((_=e(function(e,n){c(e,_,t);var i=d(new v,e,_);return null!=n&&u(n,y,i[b],i),i})).prototype=w,w.constructor=_),(E||I)&&(T("delete"),T("has"),y&&T("get")),(I||x)&&T(b),m&&w.clear&&delete w.clear}else _=g.getConstructor(e,t,y,b),a(_.prototype,n),s.NEED=!0;return p(_,t),S[t]=_,r(r.G+r.W+r.F*(_!=v),S),m||g.setStrong(_,t,y),_}},function(t,e,n){for(var i,r=n(1),o=n(14),a=n(29),s=a("typed_array"),u=a("view"),c=!(!r.ArrayBuffer||!r.DataView),h=c,l=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(i=r[f[l++]])?(o(i.prototype,s,!0),o(i.prototype,u,!0)):h=!1;t.exports={ABV:c,CONSTR:h,TYPED:s,VIEW:u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={nearestMultiple:function(t,e){return Math.round(t/e)*e},scaleBetween:function(t,e,n){return t+(e-t)*n},percentageBetween2:function(t,e,n){return(t-e)/(n-e)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseBounds=function(t){t.x=t.x?t.x:0,t.y=t.y?t.y:0,t.width<=0?console.warn("PhaserListView: bounds.width <= 0"):t.height<=0&&console.warn("PhaserListView: bounds.height <= 0");return t},e.getWidthOrHeight=function(t,e){return t["nominal"+a(e)]||t[e]},e.capitalizeFirstLetter=a,e.findChild=s,e.detectDrag=u,e.dispatchClicks=function(t,e,n){if("onInputUp"==n&&u(t))return;var i=s(e,function(e){var n=e.worldPosition,i=e.anchor,r=e.pivot,o=e.width,a=e.height,s=e.scale,u=n.x-(i?i.x*o:0)-r.x*s.x,c=n.y-(i?i.y*a:0)-r.y*s.y;return e.inputEnabled&&new Phaser.Rectangle(u,c,e.width,e.height).contains(t.x,t.y)});i&&i.events&&i.events[n]&&i.events[n].dispatch&&i.events[n].dispatch(i,t,!0);return i};var i,r=n(127),o=(i=r)&&i.__esModule?i:{default:i};function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t,e){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(!t)return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r){if(e.call(n,r))return r;var o=s(r.children,e,n);if(o)return o}}return!1}function u(t){var e=Math.abs(t.positionDown.x-t.positionUp.x),n=Math.abs(t.positionDown.y-t.positionUp.y);t.timeUp,t.timeDown;return e>o.default.AUTO_DETECT_THRESHOLD||n>o.default.AUTO_DETECT_THRESHOLD}},,function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function o(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function a(t,e,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var c=!!window.FontFace;function h(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function l(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,a=0;a<i.length;a+=1)if(e[r]===i[a]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,a=0;a<n.length;a+=1)if(i[r]===n[a]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function g(t,e,n){function i(){s&&r&&o&&(s(a),s=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=!0,a=null,s=n||null;c?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,a=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),l(t,"head",e)}function y(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=h(t,"script",{src:e}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){a||(a=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function m(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,b(t)}}function _(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function S(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function T(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function O(t){return t.a+t.f}function x(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function E(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function P(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function I(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),p(t.f,n,i)}k(t,"inactive")}function k(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,O(n)):t.h[e]())}function A(){this.c={}}function N(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function C(t){l(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(t.c)+";font-style:"+x(t)+";font-weight:"+t.f+"00;"}function L(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function j(t,e,n,i,r,o,a){this.v=t,this.B=e,this.c=n,this.a=i,this.s=a||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),t=M(t=new S(this.a.c+",serif",O(this.a))),this.g.a.style.cssText=t,t=M(t=new S(this.a.c+",sans-serif",O(this.a))),this.h.a.style.cssText=t,t=M(t=new S("serif",O(this.a))),this.j.a.style.cssText=t,t=M(t=new S("sans-serif",O(this.a))),this.m.a.style.cssText=t,C(this.g),C(this.h),C(this.j),C(this.m)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},L.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),i=new Promise(function(i,r){!function o(){s()-n>=e.f?r():t.fonts.load(function(t){return x(t)+" "+t.f+"00 300px "+T(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(o,25)},function(){r()})}()}),r=null,o=new Promise(function(t,n){r=setTimeout(n,e.f)});Promise.race([o,i]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var F={D:"serif",C:"sans-serif"},R=null;function B(){if(null===R){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);R=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return R}function D(t,e,n){for(var i in F)if(F.hasOwnProperty(i)&&e===t.f[F[i]]&&n===t.f[F[i]])return!0;return!1}function U(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=B()&&D(t,n,i)),e?s()-t.A>=t.w?B()&&D(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?V(t,t.v):V(t,t.B):function(t){setTimeout(a(function(){U(this)},t),50)}(t):V(t,t.v)}function V(t,e){setTimeout(a(function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)},t),0)}function K(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}j.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),U(this)};var J=null;function Y(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),k(t,"active")):I(t.a))}function W(t){this.j=t,this.a=new A,this.h=0,this.f=this.g=!0}function G(t,e,n,i,r){var o=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=r||null,s=i||{};if(0===n.length&&o)I(e.a);else{e.f+=n.length,o&&(e.j=o);var u,c=[];for(u=0;u<n.length;u++){var h=n[u],l=s[h.c],f=e.a,d=h;if(f.g&&p(f.f,[f.a.c("wf",d.c,O(d).toString(),"loading")]),k(f,"fontloading",d),f=null,null===J)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);J=d?42<parseInt(d[1],10):!g}else J=!1;f=J?new L(a(e.g,e),a(e.h,e),e.c,h,e.s,l):new j(a(e.g,e),a(e.h,e),e.c,h,e.s,t,l),c.push(f)}for(u=0;u<c.length;u++)c[u].start()}},0)}function X(t,e){this.c=t,this.a=e}function H(t,e){this.c=t,this.a=e}function z(t,e){this.c=t||q,this.a=[],this.f=[],this.g=e||""}K.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,O(t).toString(),"active")],[e.a.c("wf",t.c,O(t).toString(),"loading"),e.a.c("wf",t.c,O(t).toString(),"inactive")]),k(e,"fontactive",t),this.m=!0,Y(this)},K.prototype.h=function(t){var e=this.a;if(e.g){var n=d(e.f,e.a.c("wf",t.c,O(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,O(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,O(t).toString(),"inactive")),p(e.f,i,r)}k(e,"fontinactive",t),Y(this)},W.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),k(t,"loading")}(e);var i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(t.a,n,t.c),o=new K(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load(function(e,n,i){G(t,o,e,n,i)})}(this,new P(this.c,t),t)},X.prototype.load=function(t){var e=this,n=e.a.projectId,i=e.a.version;if(n){var r=e.c.o;y(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(i?"?v="+i:""),function(i){i?t([]):(r["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(r["__mti_fntLst"+n]){var i,o=r["__mti_fntLst"+n](),a=[];if(o)for(var s=0;s<o.length;s++){var u=o[s].fontfamily;null!=o[s].fontStyle&&null!=o[s].fontWeight?(i=o[s].fontStyle+o[s].fontWeight,a.push(new S(u,i))):a.push(new S(u))}t(a)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},H.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},a=new m;for(e=0,n=i.length;e<n;e++)g(this.c,i[e],v(a));var s=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var u=i[1].split(","),c=0;c<u.length;c+=1)s.push(new S(i[0],u[c]));else s.push(new S(i[0]));_(a,function(){t(s,o)})};var q="https://fonts.googleapis.com/css";function Q(t){this.f=t,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var it={Arimo:!0,Cousine:!0,Tinos:!0};function rt(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new m,n=this.c,i=new z(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new Q(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var a;if(a=[],s=i[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var h;if((h=s[c]).match(/^[\w-]+$/))if(null==(f=et.exec(h.toLowerCase())))h="";else{if(h=null==(h=f[2])||""==h?"n":tt[h],null==(f=f[1])||""==f)f="4";else var l=Z[f],f=l||(isNaN(f)?"4":f.substr(0,1));h=[h,f].join("")}else h="";h&&a.push(h)}0<a.length&&(o=a),3==i.length&&(a=[],0<(i=(i=i[2])?i.split(","):a).length&&(i=$[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=$[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new S(r,o[i]))}}(o),g(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),v(e)),_(e,function(){t(o.a,o.c,it)})},rt.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var o=e[r],a=e[r+1],s=0;s<a.length;s++)i.push(new S(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}},2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,o=n.fonts.length;r<o;++r){var a=n.fonts[r];i.a.push(new S(a.name,E("font-weight:"+a.weight+";font-style:"+a.style)))}t(i.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var at=new W(window);at.a.c.custom=function(t,e){return new H(e,t)},at.a.c.fontdeck=function(t,e){return new ot(e,t)},at.a.c.monotype=function(t,e){return new X(e,t)},at.a.c.typekit=function(t,e){return new rt(e,t)},at.a.c.google=function(t,e){return new nt(e,t)};var st={load:a(at.load,at)};void 0===(i=function(){return st}.call(e,n,e,t))||(t.exports=i)}()},function(t,e,n){var i=n(4),r=n(1).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){e.f=n(5)},function(t,e,n){var i=n(48)("keys"),r=n(29);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(1).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(4),r=n(3),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(17)(Function.call,n(20).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(4),r=n(69).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i=n(19),r=n(24);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var i=n(19),r=n(24);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(30),r=n(0),o=n(11),a=n(14),s=n(40),u=n(108),c=n(38),h=n(35),l=n(5)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,y,m){u(n,e,d);var v,_,b,w=function(t){if(!f&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T="values"==g,O=!1,x=t.prototype,E=x[l]||x["@@iterator"]||g&&x[g],P=E||w(g),I=g?T?w("entries"):P:void 0,k="Array"==e&&x.entries||E;if(k&&(b=h(k.call(new t)))!==Object.prototype&&b.next&&(c(b,S,!0),i||"function"==typeof b[l]||a(b,l,p)),T&&E&&"values"!==E.name&&(O=!0,P=function(){return E.call(this)}),i&&!m||!f&&!O&&x[l]||a(x,l,P),s[e]=P,s[S]=p,g)if(v={values:T?P:w("values"),keys:y?P:w("keys"),entries:I},m)for(_ in v)_ in x||o(x,_,v[_]);else r(r.P+r.F*(f||O),e,v);return v}},function(t,e,n){var i=n(78),r=n(24);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(4),r=n(23),o=n(5)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(40),r=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(8),r=n(28);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(46),r=n(5)("iterator"),o=n(40);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(10),r=n(32),o=n(6);t.exports=function(t){for(var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var i=n(36),r=n(113),o=n(40),a=n(15);t.exports=n(76)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,r,o=n(53),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(i=/a/,r=/b*/g,a.call(i,"a"),a.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var e,n,i,r,u=this;return h&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),i=a.call(u,t),c&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),h&&i&&i.length>1&&s.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}),t.exports=u},function(t,e,n){"use strict";var i=n(75)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i,r,o,a=n(17),s=n(102),u=n(68),c=n(64),h=n(1),l=h.process,f=h.setImmediate,p=h.clearImmediate,d=h.MessageChannel,g=h.Dispatch,y=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){v.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){s("function"==typeof t?t:Function(t),e)},i(y),y},p=function(t){delete m[t]},"process"==n(23)(l)?i=function(t){l.nextTick(a(v,t,1))}:g&&g.now?i=function(t){g.now(a(v,t,1))}:d?(o=(r=new d).port2,r.port1.onmessage=_,i=a(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(i=function(t){h.postMessage(t+"","*")},h.addEventListener("message",_,!1)):i="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){"use strict";var i=n(1),r=n(9),o=n(30),a=n(59),s=n(14),u=n(43),c=n(2),h=n(42),l=n(19),f=n(6),p=n(121),d=n(34).f,g=n(8).f,y=n(83),m=n(38),v="prototype",_="Wrong index!",b=i.ArrayBuffer,w=i.DataView,S=i.Math,T=i.RangeError,O=i.Infinity,x=b,E=S.abs,P=S.pow,I=S.floor,k=S.log,A=S.LN2,N=r?"_b":"buffer",C=r?"_l":"byteLength",M=r?"_o":"byteOffset";function L(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,h=23===e?P(2,-24)-P(2,-77):0,l=0,f=t<0||0===t&&1/t<0?1:0;for((t=E(t))!=t||t===O?(r=t!=t?1:0,i=u):(i=I(k(t)/A),t*(o=P(2,-i))<1&&(i--,o*=2),(t+=i+c>=1?h/o:h*P(2,1-c))*o>=2&&(i++,o/=2),i+c>=u?(r=0,i=u):i+c>=1?(r=(t*o-1)*P(2,e),i+=c):(r=t*P(2,c-1)*P(2,e),i=0));e>=8;a[l++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[l++]=255&i,i/=256,s-=8);return a[--l]|=128*f,a}function j(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=n-1,c=t[u--],h=127&c;for(c>>=7;s>0;h=256*h+t[u],u--,s-=8);for(i=h&(1<<-s)-1,h>>=-s,s+=e;s>0;i=256*i+t[u],u--,s-=8);if(0===h)h=1-a;else{if(h===o)return i?NaN:c?-O:O;i+=P(2,e),h-=a}return(c?-1:1)*i*P(2,h-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function R(t){return[255&t]}function B(t){return[255&t,t>>8&255]}function D(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return L(t,52,8)}function V(t){return L(t,23,4)}function K(t,e,n){g(t[v],e,{get:function(){return this[n]}})}function J(t,e,n,i){var r=p(+n);if(r+e>t[C])throw T(_);var o=t[N]._b,a=r+t[M],s=o.slice(a,a+e);return i?s:s.reverse()}function Y(t,e,n,i,r,o){var a=p(+n);if(a+e>t[C])throw T(_);for(var s=t[N]._b,u=a+t[M],c=i(+r),h=0;h<e;h++)s[u+h]=c[o?h:e-h-1]}if(a.ABV){if(!c(function(){b(1)})||!c(function(){new b(-1)})||c(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var W,G=(b=function(t){return h(this,b),new x(p(t))})[v]=x[v],X=d(x),H=0;X.length>H;)(W=X[H++])in b||s(b,W,x[W]);o||(G.constructor=b)}var z=new w(new b(2)),q=w[v].setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||u(w[v],{setInt8:function(t,e){q.call(this,t,e<<24>>24)},setUint8:function(t,e){q.call(this,t,e<<24>>24)}},!0)}else b=function(t){h(this,b,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[C]=e},w=function(t,e,n){h(this,w,"DataView"),h(t,b,"DataView");var i=t[C],r=l(e);if(r<0||r>i)throw T("Wrong offset!");if(r+(n=void 0===n?i-r:f(n))>i)throw T("Wrong length!");this[N]=t,this[M]=r,this[C]=n},r&&(K(b,"byteLength","_l"),K(w,"buffer","_b"),K(w,"byteLength","_l"),K(w,"byteOffset","_o")),u(w[v],{getInt8:function(t){return J(this,1,t)[0]<<24>>24},getUint8:function(t){return J(this,1,t)[0]},getInt16:function(t){var e=J(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=J(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(J(this,4,t,arguments[1]))},getUint32:function(t){return F(J(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return j(J(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return j(J(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,R,e)},setUint8:function(t,e){Y(this,1,t,R,e)},setInt16:function(t,e){Y(this,2,t,B,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,B,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,D,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,D,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,U,e,arguments[2])}});m(b,"ArrayBuffer"),m(w,"DataView"),s(w[v],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=w},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(126)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(60),a=(i=o)&&i.__esModule?i:{default:i},s=n(61);var u=new Phaser.Point,c={from:0,to:200,direction:"y",momentum:!1,snapping:!1,bouncing:!1,deceleration:.5,overflow:20,snapStep:10,emitMoving:!1,duration:2,speedLimit:3,flickTimeThreshold:100,offsetThreshold:30,acceleration:.5,accelerationT:250,maxAcceleration:4,time:{},multiplier:1,swipeEnabled:!1,swipeThreshold:5,swipeTimeThreshold:250,minDuration:.5,addListeners:!0},h=function(){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.clickObject=n,this.maskLimits=i,this.o=this.options=Object.assign({},c,r),this._updateMinMax(),this.dispatchValues={step:0,total:0,percent:0},this.addListeners(),this.clickables=[],this.isDown=!1,this.isScrolling=!1,this.scrollObject={},this.init(),this.tweenScroll=this.game.add.tween(this.scrollObject).to({},0,Phaser.Easing.Quartic.Out),this.tweenScroll.onUpdateCallback(this.handleUpdate,this),this.tweenScroll.onComplete.add(this.handleComplete,this)}return r(t,[{key:"destroy",value:function(){this.tweenScroll.stop(),this.removeListeners(),this.clickObject.destroy(),this.clickables=null,this.options=this.o=null,this.maskLimits=null,this.enabled=!1,this.game=null,this.dispatchValues=null,this.isDown=null,this.target=null,this.destroyed=!0}},{key:"addListeners",value:function(){this.events={onUpdate:new Phaser.Signal,onInputUp:new Phaser.Signal,onInputDown:new Phaser.Signal,onInputMove:new Phaser.Signal,onComplete:new Phaser.Signal,onSwipe:new Phaser.Signal},this.o.addListeners&&(this.clickObject.inputEnabled=!0,this.clickObject.events.onInputDown.add(this.handleDown,this),this.clickObject.events.onInputUp.add(this.handleUp,this))}},{key:"removeListeners",value:function(){for(var t in this.o.addListeners&&(this.clickObject.events.onInputDown.remove(this.handleDown,this),this.clickObject.events.onInputUp.remove(this.handleUp,this)),this.events)this.events.hasOwnProperty(t)&&this.events[t].dispose()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"init",value:function(){this.scrollObject[this.o.direction]=this.o.from,this.maxOffset=this.maskLimits[this.o.direction]*this.o.speedLimit,this.enable()}},{key:"reset",value:function(){this.tweenScroll.pause(),this.o.multiplier=1,this.init()}},{key:"setFromTo",value:function(t,e){this.o.from=t,this.o.to=e,this._updateMinMax()}},{key:"isTweening",value:function(){return this.tweenScroll.isRunning}},{key:"registerClickables",value:function(t){this.clickables=t}},{key:"handleDown",value:function(t,e){this.enabled&&(this.isDown=!0,this.target=this.requested=this.scrollObject[this.o.direction],this.o.time.down=e.timeDown,this.o.addListeners&&this.game.input.addMoveCallback(this.handleMove,this),this.isTweening()&&this.o.time.down-this.o.time.up<this.o.accelerationT?this.o.multiplier+=this.o.acceleration:this.o.multiplier=1,this.tweenScroll.stop(),this.tweenScroll.pendingDelete=!1,(0,s.dispatchClicks)(e,this.clickables,"onInputDown"),this.events.onInputDown.dispatch(t,e))}},{key:"handleMove",value:function(t,e,n){this.enabled&&(this.isScrolling=!0,u.set(e,n),this.diff=this.old-u[this.o.direction],this.diff=this._requestDiff(this.diff,this.target,this.min,this.max,this.o.overflow),this.target-=this.diff,this.old=u[this.o.direction],this.o.time.move=this.game.time.time,this.acc=Math.min(Math.abs(this.diff/30),this.o.maxAcceleration),this.scrollObject[this.o.direction]=this.target,this.handleUpdate(),this.o.emitMoving&&this.events.onInputMove.dispatch(t,e,n))}},{key:"handleUp",value:function(t,e){this.isDown=!1,this.o.addListeners&&this.game.input.deleteMoveCallback(this.handleMove,this),this.o.time.up=e.timeUp,this.o.time.up-this.o.time.down>this.o.accelerationT&&(this.o.multiplier=1);var n={duration:1,target:this.target};this.o.bouncing||(n.duration=.01),!this.o.infinite&&this.scrollObject[this.o.direction]>this.max?(this.target=this.max,this.tweenTo(n.duration,this.target)):!this.o.infinite&&this.scrollObject[this.o.direction]<this.min?(this.target=this.min,this.tweenTo(n.duration,this.target)):(this._addMomentum(n),this._addSwiping(n,e),this._addSnapping(n),this._addLimits(n),this._calculateDuration(n),this.tweenTo(n.duration,n.target)),(0,s.dispatchClicks)(e,this.clickables,"onInputUp"),this.events.onInputUp.dispatch(t,e,s.dispatchClicks)}},{key:"_addMomentum",value:function(t){if(!this.o.momentum)return t.target;var e=Math.pow(this.acc,2)*this.maskLimits[this.o.direction];return e=Math.min(this.maxOffset,e),e=this.diff>0?-this.o.multiplier*e:this.o.multiplier*e,this.o.time.up-this.o.time.move<this.o.flickTimeThreshold&&0!==e&&Math.abs(e)>this.o.offsetThreshold&&(t.target+=e),t}},{key:"_addSwiping",value:function(t,e){var n=Math.abs(this.down-this.current);if(this.o.swipeEnabled&&this.o.time.up-this.o.time.down<this.o.swipeTimeThreshold&&n>this.o.swipeThreshold){var i=e[this.o.direction]<this.down?"forward":"backward";"forward"==i?t.target-=this.o.snapStep/2:t.target+=this.o.snapStep/2,this.events.onSwipe.dispatch(i)}return t}},{key:"_addSnapping",value:function(t){return this.o.snapping?(t.target=a.default.nearestMultiple(t.target,this.o.snapStep),t):t}},{key:"_addLimits",value:function(t){return this.o.infinite?t:(t.target=Math.max(t.target,this.min),t.target=Math.min(t.target,this.max),t)}},{key:"_calculateDuration",value:function(t){var e=Math.abs(t.target-this.scrollObject[this.o.direction]);return t.duration=this.o.duration*e/this.maxOffset,t.duration=Math.max(this.o.minDuration,t.duration),t}},{key:"_requestDiff",value:function(t,e,n,i,r){if(this.o.infinite)return t;return e>i?t*=(i+r-e)/r:e<n&&(t*=-(n-r-e)/r),t}},{key:"tweenToSnap",value:function(t,e){var n=this.o.from-this.o.snapStep*e;this.tweenTo(t,n)}},{key:"tweenTo",value:function(t,e){if(0==t)return this.setTo(e);var n,i,r,o=(n={},i=this.o.direction,r=e,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n);this.tweenScroll.onUpdateCallback(this.handleUpdate,this),this.tweenScroll.onComplete.add(this.handleComplete,this),this.tweenScroll.updateTweenData("vEnd",o,-1),this.tweenScroll.updateTweenData("duration",1e3*t,-1),this.tweenScroll.updateTweenData("percent ",0,-1),this.tweenScroll.start()}},{key:"cancel",value:function(){this.isDown=!1}},{key:"setTo",value:function(t){this.scrollObject[this.o.direction]=t,this.tweenScroll.stop(),this.handleUpdate(),this.handleComplete()}},{key:"handleUpdate",value:function(){if(this.enabled){this.o.infinite?this.dispatchValues.total=Phaser.Math.wrap(this.scrollObject[this.o.direction],this.min,this.max):this.dispatchValues.total=this.scrollObject[this.o.direction];var t=this.dispatchValues.total-this.previousTotal;t<-this.length/2?t+=this.length:t>this.length/2&&(t-=this.length),this.dispatchValues.step=t,this.dispatchValues.percent=a.default.percentageBetween2(this.dispatchValues.total,this.o.from,this.o.to),this.events.onUpdate.dispatch(this.dispatchValues),this.previousTotal=this.dispatchValues.total}}},{key:"handleComplete",value:function(){this.enabled&&(this.isScrolling=!1,this.o.multiplier=1,this.events.onComplete.dispatch())}},{key:"_updateMinMax",value:function(){this.min=Math.min(this.o.from,this.o.to),this.max=Math.max(this.o.from,this.o.to),this.length=Math.abs(this.max-this.min),this.previousTotal=this.o.from}}]),t}();e.default=h},function(t,e,n){"use strict";(function(t){
/**
* @author       Jeremy Dowell <jeremy@codevinsky.com>
* @license      {@link http://www.wtfpl.net/txt/copying/|WTFPL}
*/
function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Phaser.Plugin.Juicy=function(t){Phaser.Plugin.call(this,t),this._boundsCache=Phaser.Utils.extend(!1,{},this.game.world.bounds),this._shakeWorldMax=20,this._shakeWorldTime=0,this._trailCounter=0,this._overScales={},this._overScalesCounter=0},Phaser.Plugin.Juicy.prototype=Object.create(Phaser.Plugin.prototype),Phaser.Plugin.Juicy.prototype.constructor=Phaser.Plugin.Juicy,Phaser.Plugin.Juicy.ScreenFlash=function(t,e){e=e||"white";var n=t.add.bitmapData(t.width,t.height);n.ctx.fillStyle=e,n.ctx.fillRect(0,0,t.width,t.height),Phaser.Sprite.call(this,t,0,0,n),this.alpha=0},Phaser.Plugin.Juicy.ScreenFlash.prototype=Object.create(Phaser.Sprite.prototype),Phaser.Plugin.Juicy.ScreenFlash.prototype.constructor=Phaser.Plugin.Juicy.ScreenFlash,Phaser.Plugin.Juicy.ScreenFlash.prototype.flash=function(t,e){t=t||1,e=e||100,this.game.add.tween(this).to({alpha:t},100,Phaser.Easing.Bounce.InOut,!0,0,0,!0).onComplete.add(function(){this.alpha=0},this)},Phaser.Plugin.Juicy.Trail=function(t,e,n){Phaser.Graphics.call(this,t,0,0),this.target=null,this.trailLength=e||100,this.trailWidth=15,this.trailScaling=!1,this.trailColor=n||16777215,this._segments=[],this._verts=[],this._indices=[]},Phaser.Plugin.Juicy.Trail.prototype=Object.create(Phaser.Graphics.prototype),Phaser.Plugin.Juicy.Trail.prototype.constructor=Phaser.Plugin.Juicy.Trail,Phaser.Plugin.Juicy.Trail.prototype.update=function(){this.target&&(this.x=this.target.x,this.y=this.target.y,this.addSegment(this.target.x,this.target.y),this.redrawSegments(this.target.x,this.target.y))},Phaser.Plugin.Juicy.Trail.prototype.addSegment=function(t,e){for(var n;this._segments.length>this.trailLength;)n=this._segments.shift();n||(n=new Phaser.Point),n.x=t,n.y=e,this._segments.push(n)},Phaser.Plugin.Juicy.Trail.prototype.redrawSegments=function(t,e){this.clear();var n,i,r,o,a=0,s=0,u=0;this._verts.length!==4*(this._segments.length-1)&&(this._verts=[]);for(var c=0;c<this._segments.length;++c){if(n=this._segments[c],i){o=Math.atan2(n.y-i.y,n.x-i.x)+Math.PI/2,s=Math.sin(o),u=Math.cos(o);for(var h=0;h<2;++h)r=(h/1-.5)*this.trailWidth,this.trailScaling&&(r*=c/this._segments.length),this._verts[a++]=n.x+u*r-t,this._verts[a++]=n.y+s*r-e}i=n.copyTo({})}if(this._verts.length>=8){for(var l=0;l<this._verts.length;l++)this._indices[6*l+0]=2*l+0,this._indices[6*l+1]=2*l+1,this._indices[6*l+2]=2*l+2,this._indices[6*l+3]=2*l+1,this._indices[6*l+4]=2*l+2,this._indices[6*l+5]=2*l+3;this.beginFill(this.trailColor),this.drawTriangles(this._verts,this._indices),this.endFill()}},Phaser.Plugin.Juicy.prototype.shake=function(t,e){this._shakeWorldTime=t||20,this._shakeWorldMax=e||20,this.game.world.setBounds(this._boundsCache.x-this._shakeWorldMax,this._boundsCache.y-this._shakeWorldMax,this._boundsCache.width+this._shakeWorldMax,this._boundsCache.height+this._shakeWorldMax)},Phaser.Plugin.Juicy.prototype.createScreenFlash=function(t){return new Phaser.Plugin.Juicy.ScreenFlash(this.game,t)},Phaser.Plugin.Juicy.prototype.createTrail=function(t,e){return new Phaser.Plugin.Juicy.Trail(this.game,t,e)},Phaser.Plugin.Juicy.prototype.overScale=function(t,e,n){e=e||1.5;var i=this._overScalesCounter++;n=n||new Phaser.Point(1,1);var r=this._overScales[i];r||(r={object:t,cache:n.copyTo({})}),r.scale=e,this._overScales[i]=r},Phaser.Plugin.Juicy.prototype.jelly=function(t,e,n,i){e=e||.2,n=n||0,i=i||new Phaser.Point(1,1),this.game.add.tween(t.scale).to({x:i.x+i.x*e},50,Phaser.Easing.Quadratic.InOut,!0,n).to({x:i.x},600,Phaser.Easing.Elastic.Out,!0),this.game.add.tween(t.scale).to({y:i.y+i.y*e},50,Phaser.Easing.Quadratic.InOut,!0,n+50).to({y:i.y},600,Phaser.Easing.Elastic.Out,!0)},Phaser.Plugin.Juicy.prototype.mouseStretch=function(t,e,n){e=e||.5,n=n||new Phaser.Point(1,1),t.scale.x=n.x+Math.abs(t.x-this.game.input.activePointer.x)/100*e,t.scale.y=n.y+n.y*e-t.scale.x*e},Phaser.Plugin.Juicy.prototype.update=function(){var t;if(this._shakeWorldTime>0){var e=this._shakeWorldTime/this._shakeWorldMax*this._shakeWorldMax,n=this.game.rnd.integerInRange(-e,e),i=this.game.rnd.integerInRange(-e,e);this.game.camera.x=n,this.game.camera.y=i,this._shakeWorldTime--,this._shakeWorldTime<=0&&this.game.world.setBounds(this._boundsCache.x,this._boundsCache.x,this._boundsCache.width,this._boundsCache.height)}for(var r in this._overScales)this._overScales.hasOwnProperty(r)&&((t=this._overScales[r]).scale>.01?(t.object.scale.x=t.scale*t.cache.x,t.object.scale.y=t.scale*t.cache.y,t.scale-=this.game.time.elapsed*t.scale*.35):(t.object.scale.x=t.cache.x,t.object.scale.y=t.cache.y,delete this._overScales[r]))},"object"===n(t)&&t.exports&&(t.exports=Phaser.Plugin.Juicy),Phaser.Graphics.prototype.drawTriangle||(Phaser.Graphics.prototype.drawTriangle=function(t,e){var n=new Phaser.Polygon(t);if(e){var i=new Phaser.Point(this.game.camera.x-t[0].x,this.game.camera.y-t[0].y),r=new Phaser.Point(t[1].x-t[0].x,t[1].y-t[0].y),o=new Phaser.Point(t[1].x-t[2].x,t[1].y-t[2].y).cross(r);i.dot(o)>0&&this.drawPolygon(n)}else this.drawPolygon(n)},Phaser.Graphics.prototype.drawTriangles=function(t,e,n){var i,r=new Phaser.Point,o=new Phaser.Point,a=new Phaser.Point,s=[];if(e)if(t[0]instanceof Phaser.Point)for(i=0;i<e.length/3;i++)s.push(t[e[3*i]]),s.push(t[e[3*i+1]]),s.push(t[e[3*i+2]]),3===s.length&&(this.drawTriangle(s,n),s=[]);else for(i=0;i<e.length;i++)r.x=t[2*e[i]],r.y=t[2*e[i]+1],s.push(r.copyTo({})),3===s.length&&(this.drawTriangle(s,n),s=[]);else if(t[0]instanceof Phaser.Point)for(i=0;i<t.length/3;i++)this.drawTriangle([t[3*i],t[3*i+1],t[3*i+2]],n);else for(i=0;i<t.length/6;i++)r.x=t[6*i+0],r.y=t[6*i+1],o.x=t[6*i+2],o.y=t[6*i+3],a.x=t[6*i+4],a.y=t[6*i+5],this.drawTriangle([r,o,a],n)}),e.a=Phaser.Plugin.Juicy}).call(this,n(319)(t))},function(t,e,n){t.exports=!n(9)&&!n(2)(function(){return 7!=Object.defineProperty(n(64)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),r=n(7),o=n(30),a=n(65),s=n(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(13),r=n(15),o=n(49)(!1),a=n(66)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(8),r=n(3),o=n(31);t.exports=n(9)?Object.defineProperties:function(t,e){r(t);for(var n,a=o(e),s=a.length,u=0;s>u;)i.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var i=n(15),r=n(34).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(i(t))}},function(t,e,n){"use strict";var i=n(31),r=n(50),o=n(45),a=n(10),s=n(44),u=Object.assign;t.exports=!u||n(2)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=a(t),u=arguments.length,c=1,h=r.f,l=o.f;u>c;)for(var f,p=s(arguments[c++]),d=h?i(p).concat(h(p)):i(p),g=d.length,y=0;g>y;)l.call(p,f=d[y++])&&(n[f]=p[f]);return n}:u},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(18),r=n(4),o=n(102),a=[].slice,s={};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),u=function(){var i=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)}(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(1).parseInt,r=n(39).trim,o=n(70),a=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e,n){var i=n(1).parseFloat,r=n(39).trim;t.exports=1/i(n(70)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(23);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(4),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var i=n(33),r=n(28),o=n(38),a={};n(14)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(3);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},function(t,e,n){var i=n(227);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(18),r=n(10),o=n(44),a=n(6);t.exports=function(t,e,n,s,u){i(e);var c=r(t),h=o(c),l=a(c.length),f=u?l-1:0,p=u?-1:1;if(n<2)for(;;){if(f in h){s=h[f],f+=p;break}if(f+=p,u?f<0:l<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:l>f;f+=p)f in h&&(s=e(s,h[f],f,c));return s}},function(t,e,n){"use strict";var i=n(10),r=n(32),o=n(6);t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),u=r(e,a),c=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===c?a:r(c,a))-u,a-s),l=1;for(u<s&&s<u+h&&(l=-1,u+=h-1,s+=h-1);h-- >0;)u in n?n[s]=n[u]:delete n[s],s+=l,u+=l;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(85);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(9)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(53)})},function(t,e,n){"use strict";var i,r,o,a,s=n(30),u=n(1),c=n(17),h=n(46),l=n(0),f=n(4),p=n(18),d=n(42),g=n(56),y=n(47),m=n(87).set,v=n(247)(),_=n(117),b=n(248),w=n(57),S=n(118),T=u.TypeError,O=u.process,x=O&&O.versions,E=x&&x.v8||"",P=u.Promise,I="process"==h(O),k=function(){},A=r=_.f,N=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(k,k)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;v(function(){for(var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,u=e.resolve,c=e.reject,h=e.domain;try{s?(r||(2==t._h&&F(t),t._h=1),!0===s?n=i:(h&&h.enter(),n=s(i),h&&(h.exit(),a=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=C(n))?o.call(n,u,c):u(n)):c(i)}catch(t){h&&!a&&h.exit(),c(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){m.call(u,function(){var e,n,i,r=t._v,o=j(t);if(o&&(e=b(function(){I?O.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=I||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){m.call(u,function(){var e;I?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=C(t))?v(function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(R,i,1))}catch(t){R.call(i,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};N||(P=function(t){d(this,P,"Promise","_h"),p(t),i.call(this);try{t(c(B,this,1),c(R,this,1))}catch(t){R.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(43)(P.prototype,{then:function(t,e){var n=A(y(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=I?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(R,t,1)},_.f=A=function(t){return t===P||t===a?new o(t):r(t)}),l(l.G+l.W+l.F*!N,{Promise:P}),n(38)(P,"Promise"),n(41)("Promise"),a=n(7).Promise,l(l.S+l.F*!N,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!N),"Promise",{resolve:function(t){return S(s&&this===a?P:this,t)}}),l(l.S+l.F*!(N&&n(52)(function(t){P.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=A(e),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;g(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=A(e),i=n.reject,r=b(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(18);function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(3),r=n(4),o=n(117);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(8).f,r=n(33),o=n(43),a=n(17),s=n(42),u=n(56),c=n(76),h=n(113),l=n(41),f=n(9),p=n(27).fastKey,d=n(37),g=f?"_s":"size",y=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var h=t(function(t,i){s(t,h,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,null!=i&&u(i,n,t[c],t)});return o(h.prototype,{clear:function(){for(var t=d(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),i=y(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(t){d(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),f&&i(h.prototype,"size",{get:function(){return d(this,e)[g]}}),h},def:function(t,e,n){var i,r,o=y(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:y,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var i=n(43),r=n(27).getWeak,o=n(3),a=n(4),s=n(42),u=n(56),c=n(22),h=n(13),l=n(37),f=c(5),p=c(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},m=function(t,e){return f(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,i){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=i&&u(i,n,t[o],t)});return i(c.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?g(l(this,e)).delete(t):n&&h(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?g(l(this,e)).has(t):n&&h(n,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?g(t).set(e,n):i[t._i]=n,t},ufstore:g}},function(t,e,n){var i=n(19),r=n(6);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(34),r=n(50),o=n(3),a=n(1).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(6),r=n(72),o=n(24);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),h=i(e);if(h<=u||""==c)return s;var l=h-u,f=r.call(c,Math.ceil(l/c.length));return f.length>l&&(f=f.slice(0,l)),a?f+s:s+f}},function(t,e,n){var i=n(31),r=n(15),o=n(45).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=i(a),u=s.length,c=0,h=[];u>c;)o.call(a,n=s[c++])&&h.push(t?[n,a[n]]:a[n]);return h}}},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={AUTO_DETECT_THRESHOLD:8}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=s(n(129)),o=s(n(130)),a=n(61);function s(t){return t&&t.__esModule?t:{default:t}}var u={direction:"y",autocull:!0,momentum:!0,bouncing:!0,snapping:!1,overflow:100,padding:10,searchForClicks:!1},c=function(t){function e(t,n,i){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(e).call(this,t,n,(0,a.parseBounds)(i),Object.assign({},u,r)));return s.scroller=new o.default(s.game,s._addMask(i),Object.assign({from:0,to:0},s.options)),s.scroller.events.onUpdate.add(function(t){s._setPosition(t.total)}),s.events.onAdded.add(function(t){var e=Math.min(-t,0);s.scroller.setFromTo(0,e),s.options.searchForClicks&&s.scroller.registerClickables(s.items)}),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),i(e,[{key:"destroy",value:function(){this.scroller.destroy(),this.scroller=null,function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"reset",value:function(){this._setPosition(0),this.scroller.reset()}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(61);var o={direction:"y",autocull:!0,padding:10},a=function(){function t(e,n,i){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.parent=n,this.bounds=i,this.o=this.options=Object.assign({},o,r),this.items=[],"y"==this.o.direction?this.p={xy:"y",wh:"height"}:this.p={xy:"x",wh:"width"},this.grp=this.game.add.group(n),this.grp.position.set(i.x,i.y),this.events={onAdded:new Phaser.Signal},this.position=0,this.grp.mask=this._addMask(i)}return i(t,[{key:"add",value:function(t){this.items.push(t);var e=0;if(this.grp.children.length>0){var n=this.grp.getChildAt(this.grp.children.length-1);e=n[this.p.xy]+(0,r.getWidthOrHeight)(n,this.p.wh)+this.o.padding}return t[this.p.xy]=e,this.grp.addChild(t),this.length=e+t[this.p.wh],this.events.onAdded.dispatch(this.length-this.bounds[this.p.wh]),t}},{key:"addMultiple",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(this.add,this)}},{key:"remove",value:function(t){this.grp.removeChild(t);var e=this.items.indexOf(t);if(-1!=e)return this.items.splice(e,1),t}},{key:"destroy",value:function(){this.events.onAdded.dispose(),this.events=null,this.grp.destroy(),this.grp=null,this.game=null,this.parent=null,this.items=null}},{key:"removeAll",value:function(){this.grp.removeAll(),this.items=[]}},{key:"cull",value:function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.visible=!0,e[this.p.xy]+(0,r.getWidthOrHeight)(e,this.p.wh)+this.grp[this.p.xy]<this.bounds[this.p.xy]?e.visible=!1:e[this.p.xy]+this.grp[this.p.xy]>this.bounds[this.p.xy]+this.bounds[this.p.wh]&&(e.visible=!1)}}},{key:"getPositionByItemIndex",value:function(t){return-this.items[t][this.p.xy]}},{key:"setPosition",value:function(t){this.moveToPosition(t)}},{key:"moveToPosition",value:function(t){this.scroller.setTo(t)}},{key:"moveToItem",value:function(t){this.scroller.setTo(this.getPositionByItemIndex(t))}},{key:"tweenToPosition",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];this.scroller.tweenTo(e,t)}},{key:"tweenToItem",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];this.scroller.tweenTo(e,this.getPositionByItemIndex(t))}},{key:"_setPosition",value:function(t){this.position=t,this.grp[this.p.xy]=this.bounds[this.p.xy]+t,this.o.autocull&&this.cull()}},{key:"_addMask",value:function(t){var e=this.game.add.graphics(0,0,this.parent);return e.beginFill(16711680).drawRect(t.x,t.y,t.width,t.height),e.alpha=0,e}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=(a(n(60)),a(n(92)));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(e).call(this,t,n,{x:n.width,y:n.height},i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"handleDown",value:function(t,n){this.old=this.down=n[this.o.direction],r(Object.getPrototypeOf(e.prototype),"handleDown",this).call(this,t,n)}},{key:"handleUp",value:function(t,n){this.current=n[this.o.direction],r(Object.getPrototypeOf(e.prototype),"handleUp",this).call(this,t,n)}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollerEventDispatcher=e.BasicSwiper=e.DirectionalScroller=e.WheelScroller=e.SwipeCarousel=e.ListViewCore=e.ListView=e.Scroller=void 0;var i=l(n(92)),r=l(n(128)),o=l(n(129)),a=l(n(320)),s=l(n(321)),u=l(n(130)),c=l(n(322)),h=l(n(323));function l(t){return t&&t.__esModule?t:{default:t}}var f={Scroller:i.default,ListView:r.default,ListViewCore:o.default,SwipeCarousel:a.default,WheelScroller:s.default,DirectionalScroller:u.default,BasicSwiper:c.default,ScrollerEventDispatcher:h.default};e.Scroller=i.default,e.ListView=r.default,e.ListViewCore=o.default,e.SwipeCarousel=a.default,e.WheelScroller=s.default,e.DirectionalScroller=u.default,e.BasicSwiper=c.default,e.ScrollerEventDispatcher=h.default,window.PhaserListView=f,e.default=f},function(t,e,n){n(133),t.exports=n(336)},function(t,e,n){"use strict";n(134);var i,r=(i=n(306))&&i.__esModule?i:{default:i};r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},function(t,e,n){"use strict";n(135),n(278),n(280),n(283),n(285),n(287),n(289),n(291),n(293),n(295),n(297),n(299),n(301),n(305)},function(t,e,n){n(136),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(84),n(241),n(114),n(242),n(115),n(243),n(244),n(245),n(246),n(116),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),t.exports=n(7)},function(t,e,n){"use strict";var i=n(1),r=n(13),o=n(9),a=n(0),s=n(11),u=n(27).KEY,c=n(2),h=n(48),l=n(38),f=n(29),p=n(5),d=n(65),g=n(95),y=n(138),m=n(51),v=n(3),_=n(4),b=n(15),w=n(26),S=n(28),T=n(33),O=n(98),x=n(20),E=n(8),P=n(31),I=x.f,k=E.f,A=O.f,N=i.Symbol,C=i.JSON,M=C&&C.stringify,L=p("_hidden"),j=p("toPrimitive"),F={}.propertyIsEnumerable,R=h("symbol-registry"),B=h("symbols"),D=h("op-symbols"),U=Object.prototype,V="function"==typeof N,K=i.QObject,J=!K||!K.prototype||!K.prototype.findChild,Y=o&&c(function(){return 7!=T(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=I(U,e);i&&delete U[e],k(t,e,n),i&&t!==U&&k(U,e,i)}:k,W=function(t){var e=B[t]=T(N.prototype);return e._k=t,e},G=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},X=function(t,e,n){return t===U&&X(D,e,n),v(t),e=w(e,!0),v(n),r(B,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=T(n,{enumerable:S(0,!1)})):(r(t,L)||k(t,L,S(1,{})),t[L][e]=!0),Y(t,e,n)):k(t,e,n)},H=function(t,e){v(t);for(var n,i=y(e=b(e)),r=0,o=i.length;o>r;)X(t,n=i[r++],e[n]);return t},z=function(t){var e=F.call(this,t=w(t,!0));return!(this===U&&r(B,t)&&!r(D,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,L)&&this[L][t])||e)},q=function(t,e){if(t=b(t),e=w(e,!0),t!==U||!r(B,e)||r(D,e)){var n=I(t,e);return!n||!r(B,e)||r(t,L)&&t[L][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=A(b(t)),i=[],o=0;n.length>o;)r(B,e=n[o++])||e==L||e==u||i.push(e);return i},$=function(t){for(var e,n=t===U,i=A(n?D:b(t)),o=[],a=0;i.length>a;)!r(B,e=i[a++])||n&&!r(U,e)||o.push(B[e]);return o};V||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(D,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),Y(this,t,S(1,n))};return o&&J&&Y(U,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),x.f=q,E.f=X,n(34).f=O.f=Q,n(45).f=z,n(50).f=$,o&&!n(30)&&s(U,"propertyIsEnumerable",z,!0),d.f=function(t){return W(p(t))}),a(a.G+a.W+a.F*!V,{Symbol:N});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=P(p.store),nt=0;et.length>nt;)g(et[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return r(R,t+="")?R[t]:R[t]=N(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?T(t):H(T(t),e)},defineProperty:X,defineProperties:H,getOwnPropertyDescriptor:q,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),C&&a(a.S+a.F*(!V||c(function(){var t=N();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(_(e)||void 0!==t)&&!G(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,M.apply(C,i)}}),N.prototype[j]||n(14)(N.prototype,j,N.prototype.valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(48)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(31),r=n(50),o=n(45);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(33)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(9),"Object",{defineProperty:n(8).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(9),"Object",{defineProperties:n(97)})},function(t,e,n){var i=n(15),r=n(20).f;n(21)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(10),r=n(35);n(21)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(10),r=n(31);n(21)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(21)("getOwnPropertyNames",function(){return n(98).f})},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("freeze",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("seal",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("preventExtensions",function(t){return function(e){return t&&i(e)?t(r(e)):e}})},function(t,e,n){var i=n(4);n(21)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(4);n(21)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(t,e,n){var i=n(4);n(21)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(99)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(100)})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(69).set})},function(t,e,n){"use strict";var i=n(46),r={};r[n(5)("toStringTag")]="z",r+""!="[object z]"&&n(11)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(101)})},function(t,e,n){var i=n(8).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(9)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(4),r=n(35),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(0),r=n(103);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(0),r=n(104);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(1),r=n(13),o=n(23),a=n(71),s=n(26),u=n(2),c=n(34).f,h=n(20).f,l=n(8).f,f=n(39).trim,p=i.Number,d=p,g=p.prototype,y="Number"==o(n(33)(g)),m="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,u=e.slice(2),c=0,h=u.length;c<h;c++)if((a=u.charCodeAt(c))<48||a>r)return NaN;return parseInt(u,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?u(function(){g.valueOf.call(n)}):"Number"!=o(n))?a(new d(v(e)),n,p):v(e)};for(var _,b=n(9)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(d,_=b[w])&&!r(p,_)&&l(p,_,h(d,_));p.prototype=g,g.constructor=p,n(11)(i,"Number",p)}},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(105),a=n(72),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",l=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=u(i/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(2)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,i,s,u=o(this,h),c=r(t),g="",y="0";if(c<0||c>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(0,n),i=c;i>=7;)l(1e7,0),i-=7;for(l(d(10,i,1),0),i=e-1;i>=23;)f(1<<23),i-=23;f(1<<i),l(1,1),f(2),y=p()}else l(0,n),l(1<<-e,0),y=p()+a.call("0",c);return y=c>0?g+((s=y.length)<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):g+y}})},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(105),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(1).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(106)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(106),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(104);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(103);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(107),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(0),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(73);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(74);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(181)})},function(t,e,n){var i=n(73),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),u=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=i(t);return r<u?c*(r/u/a+1/o-1/o)*u*a:(n=(e=(1+a/o)*r)-(e-r))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=r(arguments[a++]))?(o=o*(i=u/n)*i+1,u=n):o+=n>0?(i=n/u)*i:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(2)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(107)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(73)})},function(t,e,n){var i=n(0),r=n(74),o=Math.exp;i(i.S+i.F*n(2)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(74),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(32),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),r=n(15),o=n(6);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(39)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(75)(!0);n(76)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(0),r=n(75)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(77),a="".endsWith;i(i.P+i.F*n(79)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),s=void 0===n?i:Math.min(r(n),i),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var i=n(0),r=n(77);i(i.P+i.F*n(79)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(72)})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(77),a="".startsWith;i(i.P+i.F*n(79)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(12)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(12)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(12)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(12)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(12)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(12)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(12)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(12)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(12)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(12)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(12)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(12)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(12)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(26);i(i.P+i.F*n(2)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),r=n(216);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(2),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(11)(i,"toString",function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,e,n){var i=n(5)("toPrimitive"),r=Date.prototype;i in r||n(14)(r,i,n(219))},function(t,e,n){"use strict";var i=n(3),r=n(26);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(51)})},function(t,e,n){"use strict";var i=n(17),r=n(0),o=n(10),a=n(109),s=n(80),u=n(6),c=n(81),h=n(82);r(r.S+r.F*!n(52)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,l,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,m=0,v=h(f);if(y&&(g=i(g,d>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(n=new p(e=u(f.length));e>m;m++)c(n,m,y?g(f[m],m):f[m]);else for(l=v.call(f),n=new p;!(r=l.next()).done;m++)c(n,m,y?a(l,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var i=n(0),r=n(81);i(i.S+i.F*n(2)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=[].join;i(i.P+i.F*(n(44)!=Object||!n(16)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(68),o=n(23),a=n(32),s=n(6),u=[].slice;i(i.P+i.F*n(2)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return u.call(this,t,e);for(var r=a(t,n),c=a(e,n),h=s(c-r),l=new Array(h),f=0;f<h;f++)l[f]="String"==i?this.charAt(r+f):this[r+f];return l}})},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(10),a=n(2),s=[].sort,u=[1,2,3];i(i.P+i.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(16)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(0),o=n(16)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(4),r=n(51),o=n(5)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(22)(1);i(i.P+i.F*!n(16)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(2);i(i.P+i.F*!n(16)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(3);i(i.P+i.F*!n(16)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(4);i(i.P+i.F*!n(16)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(111);i(i.P+i.F*!n(16)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(111);i(i.P+i.F*!n(16)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(49)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(16)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(19),a=n(6),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(16)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(112)}),n(36)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(83)}),n(36)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(22)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("find")},function(t,e,n){"use strict";var i=n(0),r=n(22)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)(o)},function(t,e,n){n(41)("Array")},function(t,e,n){var i=n(1),r=n(71),o=n(8).f,a=n(34).f,s=n(78),u=n(53),c=i.RegExp,h=c,l=c.prototype,f=/a/g,p=/a/g,d=new c(f)!==f;if(n(9)&&(!d||n(2)(function(){return p[n(5)("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(t,e){var n=this instanceof c,i=s(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(d?new h(i&&!o?t.source:t,e):h((i=t instanceof c)?t.source:t,i&&o?u.call(t):e),n?this:l,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},y=a(h),m=0;y.length>m;)g(y[m++]);l.constructor=c,c.prototype=l,n(11)(i,"RegExp",c)}n(41)("RegExp")},function(t,e,n){"use strict";n(115);var i=n(3),r=n(53),o=n(9),a=/./.toString,s=function(t){n(11)(RegExp.prototype,"toString",t,!0)};n(2)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){"use strict";var i=n(3),r=n(6),o=n(86),a=n(54);n(55)("match",1,function(t,e,n,s){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=i(t),c=String(this);if(!u.global)return a(u,c);var h=u.unicode;u.lastIndex=0;for(var l,f=[],p=0;null!==(l=a(u,c));){var d=String(l[0]);f[p]=d,""===d&&(u.lastIndex=o(c,r(u.lastIndex),h)),p++}return 0===p?null:f}]})},function(t,e,n){"use strict";var i=n(3),r=n(10),o=n(6),a=n(19),s=n(86),u=n(54),c=Math.max,h=Math.min,l=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(55)("replace",2,function(t,e,n,d){return[function(i,r){var o=t(this),a=null==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=d(n,t,this,e);if(r.done)return r.value;var l=i(t),f=String(this),p="function"==typeof e;p||(e=String(e));var y=l.global;if(y){var m=l.unicode;l.lastIndex=0}for(var v=[];;){var _=u(l,f);if(null===_)break;if(v.push(_),!y)break;""===String(_[0])&&(l.lastIndex=s(f,o(l.lastIndex),m))}for(var b,w="",S=0,T=0;T<v.length;T++){_=v[T];for(var O=String(_[0]),x=c(h(a(_.index),f.length),0),E=[],P=1;P<_.length;P++)E.push(void 0===(b=_[P])?b:String(b));var I=_.groups;if(p){var k=[O].concat(E,x,f);void 0!==I&&k.push(I);var A=String(e.apply(void 0,k))}else A=g(O,f,x,E,I,e);x>=S&&(w+=f.slice(S,x)+A,S=x+O.length)}return w+f.slice(S)}];function g(t,e,i,o,a,s){var u=i+t.length,c=o.length,h=p;return void 0!==a&&(a=r(a),h=f),n.call(s,h,function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(u);case"<":s=a[r.slice(1,-1)];break;default:var h=+r;if(0===h)return n;if(h>c){var f=l(h/10);return 0===f?n:f<=c?void 0===o[f-1]?r.charAt(1):o[f-1]+r.charAt(1):n}s=o[h-1]}return void 0===s?"":s})}})},function(t,e,n){"use strict";var i=n(3),r=n(100),o=n(54);n(55)("search",1,function(t,e,n,a){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=i(t),u=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var h=o(s,u);return r(s.lastIndex,c)||(s.lastIndex=c),null===h?-1:h.index}]})},function(t,e,n){"use strict";var i=n(78),r=n(3),o=n(47),a=n(86),s=n(6),u=n(54),c=n(85),h=n(2),l=Math.min,f=[].push,p=!h(function(){RegExp(4294967295,"y")});n(55)("split",2,function(t,e,n,h){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,a,s,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,p=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,h+"g");(o=c.call(d,r))&&!((a=d.lastIndex)>l&&(u.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&f.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=p));)d.lastIndex===o.index&&d.lastIndex++;return l===r.length?!s&&d.test("")||u.push(""):u.push(r.slice(l)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r,i):d.call(String(r),n,i)},function(t,e){var i=h(d,t,this,e,d!==n);if(i.done)return i.value;var c=r(t),f=String(this),g=o(c,RegExp),y=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(p?"y":"g"),v=new g(p?c:"^(?:"+c.source+")",m),_=void 0===e?4294967295:e>>>0;if(0===_)return[];if(0===f.length)return null===u(v,f)?[f]:[];for(var b=0,w=0,S=[];w<f.length;){v.lastIndex=p?w:0;var T,O=u(v,p?f:f.slice(w));if(null===O||(T=l(s(v.lastIndex+(p?0:w)),f.length))===b)w=a(f,w,y);else{if(S.push(f.slice(b,w)),S.length===_)return S;for(var x=1;x<=O.length-1;x++)if(S.push(O[x]),S.length===_)return S;w=b=T}}return S.push(f.slice(b)),S}]})},function(t,e,n){var i=n(1),r=n(87).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,u="process"==n(23)(a);t.exports=function(){var t,e,n,c=function(){var i,r;for(u&&(i=a.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var h=s.resolve(void 0);n=function(){h.then(c)}}else n=function(){r.call(i,c)};else{var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var i=n(119),r=n(37);t.exports=n(58)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(119),r=n(37);t.exports=n(58)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(1),o=n(22)(0),a=n(11),s=n(27),u=n(99),c=n(120),h=n(4),l=n(37),f=n(37),p=!r.ActiveXObject&&"ActiveXObject"in r,d=s.getWeak,g=Object.isExtensible,y=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(h(t)){var e=d(t);return!0===e?y(l(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(l(this,"WeakMap"),t,e)}},_=t.exports=n(58)("WeakMap",m,v,c,!0,!0);f&&p&&(u((i=c.getConstructor(m,"WeakMap")).prototype,v),s.NEED=!0,o(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];a(e,t,function(e,r){if(h(e)&&!g(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var i=n(120),r=n(37);n(58)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(59),o=n(88),a=n(3),s=n(32),u=n(6),c=n(4),h=n(1).ArrayBuffer,l=n(47),f=o.ArrayBuffer,p=o.DataView,d=r.ABV&&h.isView,g=f.prototype.slice,y=r.VIEW;i(i.G+i.W+i.F*(h!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||c(t)&&y in t}}),i(i.P+i.U+i.F*n(2)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(l(this,f))(u(r-i)),c=new p(this),h=new p(o),d=0;i<r;)h.setUint8(d++,c.getUint8(i++));return o}}),n(41)("ArrayBuffer")},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(59).ABV,{DataView:n(88).DataView})},function(t,e,n){n(25)("Int8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Uint8",1,function(t){return function(e,n,i){return t(this,e,n,i)}},!0)},function(t,e,n){n(25)("Int16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Uint16",2,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Int32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Uint32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Float32",4,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){n(25)("Float64",8,function(t){return function(e,n,i){return t(this,e,n,i)}})},function(t,e,n){var i=n(0),r=n(18),o=n(3),a=(n(1).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(2)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=r(t),u=o(n);return a?a(i,e,u):s.call(i,e,u)}})},function(t,e,n){var i=n(0),r=n(33),o=n(18),a=n(3),s=n(4),u=n(2),c=n(101),h=(n(1).Reflect||{}).construct,l=u(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!u(function(){h(function(){})});i(i.S+i.F*(l||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!l)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var u=n.prototype,p=r(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var i=n(8),r=n(0),o=n(3),a=n(26);r(r.S+r.F*n(2)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(20).f,o=n(3);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),r=n(3),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(108)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(20),r=n(35),o=n(13),a=n(0),s=n(4),u=n(3);a(a.S,"Reflect",{get:function t(e,n){var a,c,h=arguments.length<3?e:arguments[2];return u(e)===h?e[n]:(a=i.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(h):void 0:s(c=r(e))?t(c,n,h):void 0}})},function(t,e,n){var i=n(20),r=n(0),o=n(3);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(35),o=n(3);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(3),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(122)})},function(t,e,n){var i=n(0),r=n(3),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(8),r=n(20),o=n(35),a=n(13),s=n(0),u=n(28),c=n(3),h=n(4);s(s.S,"Reflect",{set:function t(e,n,s){var l,f,p=arguments.length<4?e:arguments[3],d=r.f(c(e),n);if(!d){if(h(f=o(e)))return t(f,n,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!h(p))return!1;if(l=r.f(p,n)){if(l.get||l.set||!1===l.writable)return!1;l.value=s,i.f(p,n,l)}else i.f(p,n,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var i=n(0),r=n(69);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(279),t.exports=n(7).Array.includes},function(t,e,n){"use strict";var i=n(0),r=n(49)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(36)("includes")},function(t,e,n){n(281),t.exports=n(7).Array.flatMap},function(t,e,n){"use strict";var i=n(0),r=n(282),o=n(10),a=n(6),s=n(18),u=n(110);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=u(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(36)("flatMap")},function(t,e,n){"use strict";var i=n(51),r=n(4),o=n(6),a=n(17),s=n(5)("isConcatSpreadable");t.exports=function t(e,n,u,c,h,l,f,p){for(var d,g,y=h,m=0,v=!!f&&a(f,p,3);m<c;){if(m in u){if(d=v?v(u[m],m,n):u[m],g=!1,r(d)&&(g=void 0!==(g=d[s])?!!g:i(d)),g&&l>0)y=t(e,n,d,o(d.length),y,l-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}m++}return y}},function(t,e,n){n(284),t.exports=n(7).String.padStart},function(t,e,n){"use strict";var i=n(0),r=n(123),o=n(57),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*a,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(286),t.exports=n(7).String.padEnd},function(t,e,n){"use strict";var i=n(0),r=n(123),o=n(57),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*a,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(288),t.exports=n(7).String.trimLeft},function(t,e,n){"use strict";n(39)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){n(290),t.exports=n(7).String.trimRight},function(t,e,n){"use strict";n(39)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){n(292),t.exports=n(65).f("asyncIterator")},function(t,e,n){n(95)("asyncIterator")},function(t,e,n){n(294),t.exports=n(7).Object.getOwnPropertyDescriptors},function(t,e,n){var i=n(0),r=n(122),o=n(15),a=n(20),s=n(81);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),u=a.f,c=r(i),h={},l=0;c.length>l;)void 0!==(n=u(i,e=c[l++]))&&s(h,e,n);return h}})},function(t,e,n){n(296),t.exports=n(7).Object.values},function(t,e,n){var i=n(0),r=n(124)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){n(298),t.exports=n(7).Object.entries},function(t,e,n){var i=n(0),r=n(124)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";n(116),n(300),t.exports=n(7).Promise.finally},function(t,e,n){"use strict";var i=n(0),r=n(7),o=n(1),a=n(47),s=n(118);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){n(302),n(303),n(304),t.exports=n(7)},function(t,e,n){var i=n(1),r=n(0),o=n(57),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(t,e,n){var i=n(0),r=n(87);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(84),r=n(31),o=n(11),a=n(1),s=n(14),u=n(40),c=n(5),h=c("iterator"),l=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var y,m=d[g],v=p[m],_=a[m],b=_&&_.prototype;if(b&&(b[h]||s(b,h,f),b[l]||s(b,l,m),u[m]=f,v))for(y in i)b[y]||o(b,y,i[y],!0)}},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),a=new P(i||[]);return o._invoke=function(t,e,n){var i=h;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return k()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=c(t,e,n);if("normal"===u.type){if(i=n.done?p:l,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h="suspendedStart",l="suspendedYield",f="executing",p="completed",d={};function g(){}function y(){}function m(){}var v={};v[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(I([])));b&&b!==n&&i.call(b,o)&&(v=b);var w=m.prototype=g.prototype=Object.create(v);function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function T(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,a){var s=c(t[n],t,r);if("throw"!==s.type){var u=s.arg,h=u.value;return h&&"object"==typeof h&&i.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(h).then(function(t){u.value=t,o(u)},function(t){return e("throw",t,o,a)})}a(s.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function O(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:e,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,m[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(T.prototype),T.prototype[a]=function(){return this},t.AsyncIterator=T,t.async=function(e,n,i,r){var o=new T(u(e,n,i,r));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(w),w[s]="Generator",w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){n(307),t.exports=n(125).global},function(t,e,n){var i=n(308);i(i.G,{global:n(89)})},function(t,e,n){var i=n(89),r=n(125),o=n(309),a=n(311),s=n(318),u=function(t,e,n){var c,h,l,f=t&u.F,p=t&u.G,d=t&u.S,g=t&u.P,y=t&u.B,m=t&u.W,v=p?r:r[e]||(r[e]={}),_=v.prototype,b=p?i:d?i[e]:(i[e]||{}).prototype;for(c in p&&(n=e),n)(h=!f&&b&&void 0!==b[c])&&s(v,c)||(l=h?b[c]:n[c],v[c]=p&&"function"!=typeof b[c]?n[c]:y&&h?o(l,i):m&&b[c]==l?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):g&&"function"==typeof l?o(Function.call,l):l,g&&((v.virtual||(v.virtual={}))[c]=l,t&u.R&&_&&!_[c]&&a(_,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(310);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(312),r=n(317);t.exports=n(91)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(313),r=n(314),o=n(316),a=Object.defineProperty;e.f=n(91)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(90);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(91)&&!n(126)(function(){return 7!=Object.defineProperty(n(315)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(90),r=n(89).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(90);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(128),o=(i=r)&&i.__esModule?i:{default:i};var a={direction:"x",autocull:!0,momentum:!1,bouncing:!0,snapping:!0,overflow:100,padding:10,swipeEnabled:!0,offset:{x:100}},s=function(t){function e(t,n,i){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(e).call(this,t,n,i,Object.assign({},a,r)));return o.scroller.options.snapStep=i.width+o.o.padding,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=(a(n(60)),a(n(92)));function a(t){return t&&t.__esModule?t:{default:t}}var s=Phaser.Math,u=s.radToDeg,c=s.degToRad,h=new Phaser.Point,l={direction:"angle",infinite:!1,speedLimit:1.5},f=function(t){function e(t,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,Object.getPrototypeOf(e).call(this,t,n,{angle:n.width/2},Object.assign({},l,i)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),i(e,[{key:"handleDown",value:function(t,n){this.enabled&&(this.centerPoint=this.clickObject.toGlobal(new Phaser.Point(0,0)),h.set(n.x,n.y),this.old=this.down=Phaser.Math.normalizeAngle(Phaser.Math.angleBetweenPoints(h,this.centerPoint)),this.fullDiff=0,r(Object.getPrototypeOf(e.prototype),"handleDown",this).call(this,t,n))}},{key:"handleMove",value:function(t,e,n){if(this.enabled){this.isScrolling=!0,h.set(e,n);var i=Phaser.Math.normalizeAngle(Phaser.Math.angleBetweenPoints(h,this.centerPoint)),r=0,o=this.old-i;if(this.diff=u(o),this.diff>180?r=1:this.diff<-180&&(r=-1),0!=r)o-=r*c(360),this.diff=u(o);this.diff=this._requestDiff(this.diff,this.target,this.min,this.max,this.o.overflow),this.fullDiff-=this.diff,this.target-=this.diff,this.o.infinite&&(this.target=this._wrapTarget(this.target,this.min,this.max)),this.old=i,this.o.time.move=this.game.time.time;var a=this.clickObject.width,s=Math.PI*a*(this.diff/360);this.acc=Math.min(Math.abs(s/30),this.o.maxAcceleration),this.scrollObject[this.o.direction]=this.target,this.handleUpdate(),this.o.emitMoving&&this.events.onInputMove.dispatch({pointer:t,x:e,y:n})}}},{key:"handleUp",value:function(t,n){h.set(n.x,n.y),this.current=Phaser.Math.normalizeAngle(Phaser.Math.angleBetweenPoints(h,this.centerPoint)),r(Object.getPrototypeOf(e.prototype),"handleUp",this).call(this,t,n)}},{key:"_wrapTarget",value:function(t,e,n){return t>n?t=e+(t-n):t<e&&(t=n-(e-t)),t}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(60),a=(i=o)&&i.__esModule?i:{default:i};var s=new Phaser.Point,u={from:0,to:200,direction:"y",snapStep:10,duration:1,time:{},swipeThreshold:5,swipeTimeThreshold:250,addListeners:!0},c=function(){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.clickObject=n,this.o=this.options=Object.assign({},u,i),this._updateMinMax(),this.addListeners(),this.scrollObject={},this.scrollObject[this.o.direction]=this.o.from,this.tweenScroll=this.game.add.tween(this.scrollObject).to({},0,Phaser.Easing.Quartic.Out),this.tweenScroll.onUpdateCallback(this.handleUpdate,this),this.tweenScroll.onComplete.add(this.handleComplete,this)}return r(t,[{key:"addListeners",value:function(){this.events={onUpdate:new Phaser.Signal,onInputUp:new Phaser.Signal,onInputDown:new Phaser.Signal,onInputMove:new Phaser.Signal,onComplete:new Phaser.Signal,onSwipe:new Phaser.Signal},this.enable(),this.o.addListeners&&(this.clickObject.inputEnabled=!0,this.clickObject.events.onInputDown.add(this.handleDown,this),this.clickObject.events.onInputUp.add(this.handleUp,this))}},{key:"removeListeners",value:function(){for(var t in this.o.addListeners&&(this.clickObject.events.onInputDown.remove(this.handleDown,this),this.clickObject.events.onInputUp.remove(this.handleUp,this)),this.events)this.events.hasOwnProperty(t)&&this.events[t].removeAll()}},{key:"destroy",value:function(){this.removeListeners()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"isTweening",value:function(){return this.tweenScroll.isRunning}},{key:"handleDown",value:function(t,e){this.enabled?(this.clickBlocked=!1,this.isDown=!0,this.old=this.down=e[this.o.direction],this.target=0,this.o.time.down=e.timeDown,this.o.addListeners&&this.game.input.addMoveCallback(this.handleMove,this),this.tweenScroll.stop(),this.tweenScroll.pendingDelete=!1,this.events.onInputDown.dispatch(t,e)):this.clickBlocked=!0}},{key:"handleMove",value:function(t,e,n){this.enabled&&(s.set(e,n),this.diff=this.old-s[this.o.direction],this.target-=this.diff,this.old=s[this.o.direction],this.o.time.move=this.game.time.time,this.scrollObject[this.o.direction]=this.target,this.handleUpdate(),this.o.emitMoving&&this.events.onInputMove.dispatch(t,e,n))}},{key:"handleUp",value:function(t,e){if(this.enabled&&!this.clickBlocked){this.isDown=!1,this.o.addListeners&&this.game.input.deleteMoveCallback(this.handleMove,this),this.o.time.up=e.timeUp;var n={duration:this.o.duration,target:this.target};this._addSwiping(n,e),this._addSnapping(n),this.tweenTo(n.duration,n.target),this.events.onInputUp.dispatch(t,e)}}},{key:"_addSwiping",value:function(t,e){var n=Math.abs(this.down-this.old);if(this.o.time.up-this.o.time.down<this.o.swipeTimeThreshold&&n>this.o.swipeThreshold){var i=e[this.o.direction]<this.down?"forward":"backward";"forward"==i?t.target-=this.o.snapStep/2:t.target+=this.o.snapStep/2,this.events.onSwipe.dispatch(i)}return t}},{key:"_addSnapping",value:function(t){return t.target=a.default.nearestMultiple(t.target,this.o.snapStep),t}},{key:"tweenTo",value:function(t,e){var n={};n[this.o.direction]=e,this.tweenScroll.onUpdateCallback(this.handleUpdate,this),this.tweenScroll.onComplete.add(this.handleComplete,this),this.tweenScroll.updateTweenData("vEnd",n,-1),this.tweenScroll.updateTweenData("duration",1e3*t,-1),this.tweenScroll.updateTweenData("percent ",0,-1),this.tweenScroll.start()}},{key:"handleUpdate",value:function(){this.events.onUpdate.dispatch(a.default.scaleBetween(-1,1,a.default.percentageBetween2(this.scrollObject[this.o.direction],-this.length,this.length)))}},{key:"handleComplete",value:function(){this.o.multiplier=1,this.events.onComplete.dispatch()}},{key:"_updateMinMax",value:function(){this.min=Math.min(this.o.from,this.o.to),this.max=Math.max(this.o.from,this.o.to),this.length=Math.abs(this.max-this.min),this.o.snapStep=this.length}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(61),a=n(127);var s={direction:"auto",autoDetectThreshold:((i=a)&&i.__esModule?i:{default:i}).default.AUTO_DETECT_THRESHOLD},u=function(){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.clickObject=n,this.clickables=[],this.o=this.options=Object.assign({},s,i),this.addListeners()}return r(t,[{key:"addListeners",value:function(){this.events={onInputUp:new Phaser.Signal,onInputDown:new Phaser.Signal,onInputMove:new Phaser.Signal,onDirectionSet:new Phaser.Signal},this.clickObject.inputEnabled=!0,this.enable(),this.clickObject.events.onInputDown.add(this.handleDown,this),this.clickObject.events.onInputUp.add(this.handleUp,this)}},{key:"removeListeners",value:function(){for(var t in this.clickObject.events.onInputDown.remove(this.handleDown,this),this.clickObject.events.onInputUp.remove(this.handleUp,this),this.events)this.events.hasOwnProperty(t)&&this.events[t].removeAll()}},{key:"destroy",value:function(){this.removeListeners()}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}},{key:"setDirection",value:function(t){this.direction=t,this.events.onDirectionSet.dispatch(t)}},{key:"registerClickables",value:function(t){this.clickables=t}},{key:"dispatchClicks",value:function(t,e,n){var i=(0,o.dispatchClicks)(t,e,n);return"onInputDown"==n&&(this.currentDown=i),i}},{key:"handleDown",value:function(t,e){var n=this;this.enabled?(this.clickBlocked=!1,"auto"==this.o.direction?(this.direction=null,this.old=null):(this.setDirection(this.o.direction),this.old=this.down=e[this.direction]),this.game.input.addMoveCallback(this.handleMove,this),this.dispatchClicks(e,this.clickables,"onInputDown"),this.events.onInputDown.dispatch(t,e,function(t,i){return n.dispatchClicks(e,t,"onInputDown")})):this.clickBlocked=!0}},{key:"handleMove",value:function(t,e,n){if(this.enabled){if(!this.direction&&"auto"==this.o.direction){var i=Math.abs(t.positionDown.x-e),r=Math.abs(t.positionDown.y-n);if(!(i>this.o.autoDetectThreshold||r>this.o.autoDetectThreshold))return;this._cancelCurrentDown(t);var o=i>r?"x":"y";this.setDirection(o)}this.events.onInputMove.dispatch(t,e,n)}}},{key:"handleUp",value:function(t,e){var n=this;this.enabled&&!this.clickBlocked&&(this.game.input.deleteMoveCallback(this.handleMove,this),this.dispatchClicks(e,this.clickables,"onInputUp"),this.events.onInputUp.dispatch(t,e,function(t,i){return n.dispatchClicks(e,t,"onInputUp")}),this.currentDown=null)}},{key:"_cancelCurrentDown",value:function(t){this.currentDown&&this.currentDown.events&&this.currentDown.events.onInputUp&&this.currentDown.events.onInputUp.dispatch(this.currentDown,t,!1),this.currentDown=null}}]),t}();e.default=u},,,,,,,,,,,,,function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.r(e);var u,c,h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).apply(this,arguments))}var n,i,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,Phaser.State),n=e,(i=[{key:"init",value:function(){var t=this;this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.windowConstraints.bottom="visual",this.game.scale.setResizeCallback(function(){t.scale.setMaximum()}),this.game.device.desktop||(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.minWidth=300,this.scale.minHeight=100,this.scale.maxWidth=2*window.innerWidth,this.scale.maxHeight=2*window.innerHeight),this.scale.pageAlignHorizontally=!1,this.scale.pageAlignVertically=!0,this.scale.forceOrientation(!0,!1),this.scale.refresh(!0)}},{key:"preload",value:function(){if(this.load.image("loaderBg","./assets/images/logobackground.png"),this.load.image("loaderBar","./assets/images/loading-logo.png"),game.gameModule){if("string"==typeof game.gameModule){this.load.json("gameData","assets/data/"+game.gameModule+".json").onLoadComplete.add(function(){game.gameModule=this.game.cache.getJSON("gameData"),null===game.gameModule&&this.gameDataFailure()},this)}}else this.gameDataFailure();var t=game.width,e=game.height;game.aspectRatio=t/e,game.scaleRatio=1,console.log("game dimension: ",game.width,"x",game.height,"height * scaleRatio",game.height*game.scaleRatio),game.aspectRatio<1?game.scale.setGameSize(game.width,game.height*game.scaleRatio):game.scale.setGameSize(game.width,game.height),game.canvas.oncontextmenu=function(t){t.preventDefault()}}},{key:"render",value:function(){this.failedToLoad||this.state.start("Splash")}},{key:"gameDataFailure",value:function(){game.add.text(game.world.centerX,game.world.centerY,"Could not load game module",{fill:"#FFFFFF"}).anchor.set(.5),this.failedToLoad=!0,document.querySelector("#intro").style.display="none",document.querySelector("#content").style.display="block"}}])&&r(n.prototype,i),u&&r(n,u),e}(),l=(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});
/*!
 * phaser-input - version 2.0.5
 * Adds input boxes to Phaser like CanvasInput, but also works for WebGL and Mobile, made for Phaser only.
 *
 * OrangeGames
 * Build at 02-06-2017
 * Released under MIT License
 */!function(t){var e;!function(t){t[t.text=0]="text",t[t.password=1]="password",t[t.number=2]="number"}(e=t.InputType||(t.InputType={}));var n=function(){function t(t,n,i,r,o,a){void 0===i&&(i=e.text),void 0===r&&(r="");var s=this;this.id=n,this.type=i,this.game=t,this.focusIn=o,this.focusOut=a;var u=this.game.canvas.getBoundingClientRect().top+document.body.scrollTop;this.element=document.createElement("input"),this.element.id=n,this.element.style.position="absolute",this.element.style.top=u+"px",this.element.style.left=(-40).toString()+"px",this.element.style.width=10..toString()+"px",this.element.style.height=10..toString()+"px",this.element.style.border="0px",this.element.value=this.value,this.element.type=e[i],this.element.addEventListener("focusin",function(){s.focusIn instanceof Phaser.Signal&&s.focusIn.dispatch()}),this.element.addEventListener("focusout",function(){s.focusOut instanceof Phaser.Signal&&s.focusOut.dispatch()}),document.body.appendChild(this.element)}return t.prototype.addKeyUpListener=function(t){this.keyUpCallback=t,document.addEventListener("keyup",this.keyUpCallback),this.element.addEventListener("input",this.keyUpCallback)},t.prototype.blockKeyDownEvents=function(){document.addEventListener("keydown",this.preventKeyPropagation)},t.prototype.preventKeyPropagation=function(t){t.stopPropagation?t.stopPropagation():event.cancelBubble=!0},t.prototype.unblockKeyDownEvents=function(){document.removeEventListener("keydown",this.preventKeyPropagation)},t.prototype.removeEventListener=function(){document.removeEventListener("keyup",this.keyUpCallback),this.element.removeEventListener("input",this.keyUpCallback)},t.prototype.destroy=function(){document.body.removeChild(this.element)},t.prototype.setMax=function(t,n){if(void 0!==t)if(this.type===e.text||this.type===e.password)this.element.maxLength=parseInt(t,10);else if(this.type===e.number){if(this.element.max=t,void 0===n)return;this.element.min=n}},Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(t){this.element.value=t},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var t=this;if(this.element.focus(),!this.game.device.desktop&&this.game.device.chrome)var e=window.innerWidth,n=window.innerHeight,i=!1,r=setInterval(function(){(e>window.innerWidth||n>window.innerHeight)&&(i=!0),i&&e===window.innerWidth&&n===window.innerHeight&&(t.focusOut instanceof Phaser.Signal&&t.focusOut.dispatch(),clearInterval(r))},50)},t.prototype.blur=function(){this.element.blur()},Object.defineProperty(t.prototype,"hasSelection",{get:function(){return this.type!==e.number&&this.element.selectionStart!==this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caretStart",{get:function(){return this.element.selectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caretEnd",{get:function(){return this.element.selectionStart},enumerable:!0,configurable:!0}),t.prototype.getCaretPosition=function(){return this.type===e.number?-1:this.element.selectionStart},t.prototype.setCaretPosition=function(t){this.type!==e.number&&this.element.setSelectionRange(t,t)},t}();t.InputElement=n}(c||(c={})),function(t){var e;!function(t){t[t.none=0]="none",t[t.lower=1]="lower",t[t.upper=2]="upper"}(e=t.ForceCase||(t.ForceCase={}));var n=function(n){function i(i,r,o,a){void 0===a&&(a={});var s=n.call(this,i,r,o)||this;return s.focusOutOnEnter=!0,s.placeHolder=null,s.box=null,s.focus=!1,s.value="",s.windowScale=1,s.blockInput=!0,s.focusIn=new Phaser.Signal,s.focusOut=new Phaser.Signal,s.blink=!0,s.cnt=0,s.inputOptions=a,s.inputOptions.width="number"==typeof a.width?a.width:150,s.inputOptions.padding="number"==typeof a.padding?a.padding:0,s.inputOptions.textAlign=a.textAlign||"left",s.inputOptions.type=a.type||t.InputType.text,s.inputOptions.forceCase=a.forceCase?a.forceCase:e.none,s.inputOptions.borderRadius="number"==typeof a.borderRadius?a.borderRadius:0,s.inputOptions.height="number"==typeof a.height?a.height:14,s.inputOptions.fillAlpha=void 0===a.fillAlpha?1:a.fillAlpha,s.inputOptions.selectionColor=a.selectionColor||"rgba(179, 212, 253, 0.8)",s.inputOptions.zoom=!i.device.desktop&&(a.zoom||!1),s.box=new t.InputBox(s.game,a),s.setTexture(s.box.generateTexture()),s.textMask=new t.TextMask(s.game,a),s.addChild(s.textMask),s.domElement=new t.InputElement(s.game,"phaser-input-"+(1e4*Math.random()|0).toString(),s.inputOptions.type,s.value,s.focusIn,s.focusOut),s.domElement.setMax(s.inputOptions.max,s.inputOptions.min),s.selection=new t.SelectionHighlight(s.game,s.inputOptions),s.selection.mask=s.textMask,s.addChild(s.selection),a.placeHolder&&a.placeHolder.length>0&&(s.placeHolder=new Phaser.Text(i,s.inputOptions.padding,s.inputOptions.padding,a.placeHolder,{font:a.font||"14px Arial",fontWeight:a.fontWeight||"normal",fill:a.placeHolderColor||"#bfbebd"}),s.placeHolder.mask=s.textMask,s.addChild(s.placeHolder)),s.cursor=new Phaser.Text(i,s.inputOptions.padding,s.inputOptions.padding-2,"|",{font:a.font||"14px Arial",fontWeight:a.fontWeight||"normal",fill:a.cursorColor||"#000000"}),s.cursor.visible=!1,s.addChild(s.cursor),s.text=new Phaser.Text(i,s.inputOptions.padding,s.inputOptions.padding,"",{font:a.font||"14px Arial",fontWeight:a.fontWeight||"normal",fill:a.fill||"#000000"}),s.text.mask=s.textMask,s.addChild(s.text),s.offscreenText=new Phaser.Text(i,s.inputOptions.padding,s.inputOptions.padding,"",{font:a.font||"14px Arial",fontWeight:a.fontWeight||"normal",fill:a.fill||"#000000"}),s.updateTextAlignment(),s.inputEnabled=!0,s.input.useHandCursor=!0,s.game.input.onDown.add(s.checkDown,s),s.focusOut.add(function(){t.KeyboardOpen&&(s.endFocus(),s.inputOptions.zoom&&s.zoomOut())}),s}return l(i,n),Object.defineProperty(i.prototype,"width",{get:function(){return this.inputOptions.width},set:function(t){this.inputOptions.width=t,this.box.resize(t),this.textMask.resize(t),this.updateTextAlignment()},enumerable:!0,configurable:!0}),i.prototype.updateTextAlignment=function(){switch(this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.text.x=this.inputOptions.padding,null!==this.placeHolder&&this.placeHolder.anchor.set(0,0),this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.text.anchor.set(.5,0),this.text.x=this.inputOptions.padding+this.inputOptions.width/2,null!==this.placeHolder&&(this.placeHolder.anchor.set(.5,0),this.placeHolder.x=this.inputOptions.padding+this.inputOptions.width/2),this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition();break;case"right":this.text.anchor.set(1,0),this.text.x=this.inputOptions.padding+this.inputOptions.width,null!==this.placeHolder&&(this.placeHolder.anchor.set(1,0),this.placeHolder.x=this.inputOptions.padding+this.inputOptions.width),this.cursor.x=this.inputOptions.padding+this.inputOptions.width}},i.prototype.checkDown=function(e){if(this.value||this.resetText(),this.input.checkPointerOver(e)){if(this.focus)return void this.setCaretOnclick(e);this.inputOptions.zoom&&!t.Zoomed&&this.zoomIn(),this.startFocus()}else!0===this.focus&&(this.endFocus(),this.inputOptions.zoom&&this.zoomOut())},i.prototype.update=function(){if(this.text.update(),this.placeHolder&&this.placeHolder.update(),this.focus){if(30!==this.cnt)return this.cnt++;this.cursor.visible=this.blink,this.blink=!this.blink,this.cnt=0}},i.prototype.endFocus=function(){var e=this;this.focus&&(this.domElement.removeEventListener(),!0===this.blockInput&&this.domElement.unblockKeyDownEvents(),this.focus=!1,0===this.value.length&&null!==this.placeHolder&&(this.placeHolder.visible=!0),this.cursor.visible=!1,this.game.device.desktop?setTimeout(function(){e.domElement.blur()},0):this.domElement.blur(),this.game.device.desktop||(t.KeyboardOpen=!1,t.onKeyboardClose.dispatch()))},i.prototype.startFocus=function(){var e=this;this.focus=!0,null!==this.placeHolder&&(this.placeHolder.visible=!1),this.game.device.desktop?setTimeout(function(){e.keyUpProcessor()},0):this.keyUpProcessor(),this.game.device.desktop||(t.KeyboardOpen=!0,t.onKeyboardOpen.dispatch())},i.prototype.keyUpProcessor=function(){this.domElement.addKeyUpListener(this.keyListener.bind(this)),this.domElement.focus(),!0===this.blockInput&&this.domElement.blockKeyDownEvents()},i.prototype.updateText=function(){var e="";if(this.inputOptions.type===t.InputType.password)for(var n=0;n<this.value.length;n++)e+="*";else if(this.inputOptions.type===t.InputType.number){var i=parseInt(this.value);e=i<parseInt(this.inputOptions.min)?this.value=this.domElement.value=this.inputOptions.min:i>parseInt(this.inputOptions.max)?this.value=this.domElement.value=this.inputOptions.max:this.value}else e=this.value;if(this.text.setText(e),this.text.width>this.inputOptions.width)this.text.anchor.x=1,this.text.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.text.anchor.set(0,0),this.text.x=this.inputOptions.padding;break;case"center":this.text.anchor.set(.5,0),this.text.x=this.inputOptions.padding+this.inputOptions.width/2;break;case"right":this.text.anchor.set(1,0),this.text.x=this.inputOptions.padding+this.inputOptions.width}},i.prototype.updateCursor=function(){if(this.text.width>this.inputOptions.width||"right"===this.inputOptions.textAlign)this.cursor.x=this.inputOptions.padding+this.inputOptions.width;else switch(this.inputOptions.textAlign){case"left":this.cursor.x=this.inputOptions.padding+this.getCaretPosition();break;case"center":this.cursor.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2+this.getCaretPosition()}},i.prototype.getCaretPosition=function(){var e=this.domElement.getCaretPosition();if(-1===e)return this.text.width;var n=this.value;if(this.inputOptions.type===t.InputType.password){n="";for(var i=0;i<this.value.length;i++)n+="*"}return this.offscreenText.setText(n.slice(0,e)),this.offscreenText.width},i.prototype.setCaretOnclick=function(t){var e=this.text.toLocal(new PIXI.Point(t.x,t.y),this.game.world).x;this.inputOptions.textAlign&&"center"===this.inputOptions.textAlign&&(e+=this.text.width/2);for(var n=this.text.width/this.value.length,i=0,r=0;r<this.value.length;r++)if(e>=r*n&&e<=(r+1)*n){i=r;break}e>(this.value.length-1)*n&&(i=this.value.length),this.startFocus(),this.domElement.setCaretPosition(i),this.updateCursor()},i.prototype.updateSelection=function(){if(this.domElement.hasSelection){var e=this.value;if(this.inputOptions.type===t.InputType.password){e="";for(var n=0;n<this.value.length;n++)e+="*"}switch(e=e.substring(this.domElement.caretStart,this.domElement.caretEnd),this.offscreenText.setText(e),this.selection.updateSelection(this.offscreenText.getBounds()),this.inputOptions.textAlign){case"left":this.selection.x=this.inputOptions.padding;break;case"center":this.selection.x=this.inputOptions.padding+this.inputOptions.width/2-this.text.width/2}}else this.selection.clear()},i.prototype.zoomIn=function(){if(!t.Zoomed){var e=this.getBounds();window.innerHeight>window.innerWidth?this.windowScale=this.game.width/(1.5*e.width):this.windowScale=this.game.width/2/(1.5*e.width);var n=(this.game.width-1.5*e.width)/2/this.windowScale;this.game.world.scale.set(this.game.world.scale.x*this.windowScale,this.game.world.scale.y*this.windowScale),this.game.world.pivot.set(e.x-n,e.y-2*this.inputOptions.padding),t.Zoomed=!0}},i.prototype.zoomOut=function(){t.Zoomed&&(this.game.world.scale.set(this.game.world.scale.x/this.windowScale,this.game.world.scale.y/this.windowScale),this.game.world.pivot.set(0,0),t.Zoomed=!1)},i.prototype.keyListener=function(t){this.value=this.getFormattedText(this.domElement.value),13!==t.keyCode?(this.updateText(),this.updateCursor(),this.updateSelection(),t.preventDefault()):this.focusOutOnEnter&&this.endFocus()},i.prototype.destroy=function(t){this.game.input.onDown.remove(this.checkDown,this),this.focusIn.removeAll(),this.focusOut.removeAll(),this.domElement.destroy(),n.prototype.destroy.call(this,t)},i.prototype.resetText=function(){this.setText()},i.prototype.setText=function(t){void 0===t&&(t=""),null!==this.placeHolder&&(t.length>0?this.placeHolder.visible=!1:this.placeHolder.visible=!0),this.value=this.getFormattedText(t),this.domElement.value=this.value,this.updateText(),this.updateCursor(),this.endFocus()},i.prototype.getFormattedText=function(t){switch(this.inputOptions.forceCase){default:case e.none:return t;case e.lower:return t.toLowerCase();case e.upper:return t.toUpperCase()}},i}(Phaser.Sprite);t.InputField=n}(c||(c={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,0,0)||this;i.bgColor=n.backgroundColor?parseInt(n.backgroundColor.slice(1),16):16777215,i.borderRadius=n.borderRadius||0,i.borderWidth=n.borderWidth||1,i.borderColor=n.borderColor?parseInt(n.borderColor.slice(1),16):9803157,i.boxAlpha=n.fillAlpha,i.padding=n.padding;var r=n.height,o=n.width;n.font&&(r=Math.max(parseInt(n.font.substr(0,n.font.indexOf("px")),10),r)),i.boxHeight=2*i.padding+r;o=n.width;return i.boxWidth=2*i.padding+o,i.drawBox(),i}return l(e,t),e.prototype.resize=function(t){this.boxWidth=2*this.padding+t,this.drawBox()},e.prototype.drawBox=function(){this.clear().beginFill(this.bgColor,this.boxAlpha).lineStyle(this.borderWidth,this.borderColor,this.boxAlpha),this.borderRadius>0?this.drawRoundedRect(0,0,this.boxWidth,this.boxHeight,this.borderRadius):this.drawRect(0,0,this.boxWidth,this.boxHeight)},e}(Phaser.Graphics);t.InputBox=e}(c||(c={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n.padding,n.padding)||this;return i.inputOptions=n,i}return l(e,t),e.prototype.updateSelection=function(t){var n=Phaser.Color.webToColor(this.inputOptions.selectionColor);this.clear(),this.beginFill(e.rgb2hex(n),n.a),this.drawRect(t.x,t.y,t.width,t.height-this.inputOptions.padding)},e.rgb2hex=function(t){return parseInt(("0"+t.r.toString(16)).slice(-2)+("0"+t.g.toString(16)).slice(-2)+("0"+t.b.toString(16)).slice(-2),16)},e}(Phaser.Graphics);t.SelectionHighlight=e}(c||(c={})),function(t){var e=function(t){function e(e,n){var i=t.call(this,e,n.padding,n.padding)||this,r=n.height;return n.font&&(r=Math.max(parseInt(n.font.substr(0,n.font.indexOf("px")),10),r)),i.maskWidth=n.width,i.maskHeight=1.3*r,i.drawMask(),i}return l(e,t),e.prototype.resize=function(t){this.maskWidth=t,this.drawMask()},e.prototype.drawMask=function(){this.clear().beginFill(0).drawRect(0,0,this.maskWidth,this.maskHeight).endFill()},e}(Phaser.Graphics);t.TextMask=e}(c||(c={})),function(t){t.Zoomed=!1,t.KeyboardOpen=!1,t.onKeyboardOpen=new Phaser.Signal,t.onKeyboardClose=new Phaser.Signal;var e=function(e){function n(t,n){var i=e.call(this,t,n)||this;return i.addInputFieldFactory(),i}return l(n,e),n.prototype.addInputFieldFactory=function(){Phaser.GameObjectFactory.prototype.inputField=function(e,n,i,r){void 0===r&&(r=this.world);var o=new t.InputField(this.game,e,n,i);return r.add(o)},Phaser.GameObjectCreator.prototype.inputField=function(e,n,i){return new t.InputField(this.game,e,n,i)}},n}(Phaser.Plugin);e.Zoomed=!1,e.KeyboardOpen=!1,e.onKeyboardOpen=new Phaser.Signal,e.onKeyboardClose=new Phaser.Signal,t.Plugin=e}(c||(c={}));var f=c,p=n(93),d={gameWidth:window.innerWidth,gameHeight:4*window.innerWidth/3,localStorageName:"phaseres6webpack",webfonts:["Berkshire Swash"]},g=n(63),y=n.n(g);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,b(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,Phaser.State),n=e,(i=[{key:"init",value:function(){}},{key:"preload",value:function(){var t=game.gameModule;this.loaderBar=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"loaderBar"),[this.loaderBar].forEach(function(t){t.anchor.setTo(.5)}),this.load.setPreloadSprite(this.loaderBar),this.load.onLoadStart.add(this.loadStart,this),this.load.onFileComplete.add(this.fileComplete,this),this.load.onLoadComplete.add(this.loadComplete,this),this.add.plugin(f.Plugin),this.add.plugin(p.a),this.game.juicy=this.add.plugin(new p.a(this)),d.webfonts.length&&y.a.load({google:{families:d.webfonts},active:this.fontsLoaded}),this.load.atlas("leftCharacter","assets/images/res/"+t.Setup.LeftCharacter.trim()+"/anim.png","assets/images/res/"+t.Setup.LeftCharacter.trim()+"/anim.json"),this.load.xml("leftCharacterAnimations","assets/images/res/"+t.Setup.LeftCharacter.trim()+"/anim.scml"),this.load.atlas("rightCharacter","assets/images/res/"+t.Setup.RightCharacter.trim()+"/anim.png","assets/images/res/"+t.Setup.RightCharacter.trim()+"/anim.json"),this.load.xml("rightCharacterAnimations","assets/images/res/"+t.Setup.RightCharacter.trim()+"/anim.scml"),this.load.spritesheet("patienceBar5","assets/images/res/lopelope.png",95,84),this.load.spritesheet("patienceBar4","assets/images/res/lopelope.png",95,84),this.load.spritesheet("patienceBar3","assets/images/res/lopelope.png",95,84),this.load.spritesheet("patienceBar2","assets/images/res/lopelope.png",95,84),this.load.spritesheet("patienceBar1","assets/images/res/lopelope.png",95,84),this.load.image("iconAttack","assets/images/res/icon-attack.png"),this.load.image("iconHome","assets/images/icon-home.png"),this.load.image("iconPlay","assets/images/res/button-start.png"),this.load.image("scoreBar","assets/images/res/score-board.png"),this.load.image("iconDelete","assets/images/res/icon-back.png"),this.load.image("iconRepeat","assets/images/res/icon-repeat.png"),this.load.image("iconHint","assets/images/res/icon-hint.png");for(var e=0;e<t.Setup.Backgrounds.length;e++){var n=t.Setup.Backgrounds[e];this.load.image("bg_"+n,"assets/images/res/backgrounds/"+n)}this.load.image("bg1","assets/images/res/"+t.Setup.StartingBackground),this.load.image("bg_title","assets/images/res/title.png"),this.load.image("bg_depan","assets/images/res/bar-mini-depan.png"),this.load.image("footer","assets/images/res/l7_ground.png"),this.load.image("gameover","assets/images/res/endgame.png"),this.load.image("speechBubble","assets/images/res/callout.png"),this.load.audio("click","assets/audio/Click.wav"),this.load.spritesheet("sidebg","assets/images/res/sidebg.png",115,117),this.load.spritesheet("loadingAnimation","assets/images/loading_animation.png",100,100)}},{key:"loadStart",value:function(){this.loadingText=this.add.text(this.game.world.centerX-140,this.game.world.centerY-140,"Loading...",{font:"20px Berkshire Swash",fill:"#ffffff"})}},{key:"fileComplete",value:function(t,e,n,i,r){console.log("Loading: "+t+"% - "+i+" out of "+r),this.loadingText.setText("Loading: "+t+"% - "+i+" out of "+r)}},{key:"loadComplete",value:function(){var t=this;this.time.advancedTiming=!0;this.time.events.add(5*Phaser.Timer.SECOND,function(){document.querySelector("#intro").style.display="none",document.querySelector("#content").style.display="block",t.state.start("Menu")},this)}},{key:"create",value:function(){}},{key:"fontsLoaded",value:function(){this.fontsReady=!0}}])&&v(n.prototype,i),r&&v(n,r),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),x(this,E(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,Phaser.State),n=e,(i=[{key:"create",value:function(){this.phaserJSON=game.gameModule,this.createBackground();var t=game.add.sprite(0,0,"iconPlay");t.anchor.set(.5),t.x=game.world.centerX,t.y=game.world.centerY+200,t.inputEnabled=!0,t.input.priorityID=0,t.events.onInputDown.add(this.startGame,this),t.alpha=0,t.input.useHandCursor=!0,game.add.tween(t).to({x:game.world.centerX,alpha:1},500,Phaser.Easing.Cubic.In,!0,2e3);var e;(e=game.add.text(0,0,this.phaserJSON.Setup.Title,{font:"bold 42px Arial",fill:"#fff",boundsAlignH:"center",boundsAlignV:"middle"})).setShadow(3,3,"rgba(0,0,0,0.5)",2),e.setTextBounds(0,0,game.world.width,game.world.height),e.alpha=0,game.add.tween(e).to({alpha:1},500,Phaser.Easing.Cubic.In,!0,2500),dtml.recordGameStart("conversation_"+this.phaserJSON.Setup.Name)}},{key:"createBackground",value:function(){this.background=this.add.sprite(game.world.centerX,game.world.height,"bg_"+this.phaserJSON.Setup.StartingBackground),this.background.anchor.set(.5,1),this.gameTitle=this.add.sprite(game.world.centerX,game.world.height,"bg_title"),this.gameTitle.anchor.set(.5,1),this.gameTitle.alpha=0,this.nameBackground=this.add.sprite(game.world.centerX,game.world.height,"bg_depan"),this.nameBackground.anchor.set(.5,1),this.gameTitle.y=game.world.height/2-75,game.add.tween(this.gameTitle).to({x:game.world.centerX,alpha:1},500,Phaser.Easing.Cubic.In,!0,500),this.nameBackground.y+=400,game.add.tween(this.nameBackground).to({y:this.gameTitle.y+this.nameBackground.height+30,alpha:1},2e3,Phaser.Easing.Cubic.In,!0,500)}},{key:"startGame",value:function(){this.state.start("Game")}}])&&O(n.prototype,i),r&&O(n,r),e}(),k=n(131);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j,F=function(t){function e(t){var n,i,r,o=t.game,a=t.x,s=t.y,u=t.text;t.cloudEnabled;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=this,(n=!(r=C(e).call(this,o,a,s,"cloud"))||"object"!==A(r)&&"function"!=typeof r?M(i):r).game=o,n.x=a,n.y=s,n.origX=a,n.origY=s,n.alpha=0,n.text=o.add.text(a,s,u,{font:"45px Berkshire Swash",fill:"#ff0044",align:"center"}),n.text.anchor.setTo(.5),n.text.alpha=0,n.anchor.setTo(.5),n.game.stage.addChild(M(n)),n.game.stage.addChild(n.text),n}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,Phaser.Sprite),n=e,(i=[{key:"update",value:function(){this.text.y=this.y,this.width=1.8*this.text.width}},{key:"display",value:function(){this.alpha=1,this.text.alpha=1}},{key:"hide",value:function(){this.text.alpha=0,this.alpha=0}},{key:"changeText",value:function(t){this.text.text=this.properCase(t)}},{key:"showTick",value:function(){var t=this;this.display(),game.add.tween(this).to({y:this.origY-200},1500,Phaser.Easing.Linear.Out,!0).onComplete.add(function(){t.hide(),t.y=t.origY})}},{key:"properCase",value:function(t){for(var e=t.split(" "),n="",i=0;i<e.length;i++)n+=e[i].charAt(0).toUpperCase()+e[i].slice(1)+" ";return n}}])&&N(n.prototype,i),r&&N(n,r),e}(),R=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};!function(t){var e=function(){function t(){this._items=[],this._itemNames=[]}return t.prototype.add=function(t,e,n){void 0===e&&(e=this._items.length),null==n&&(n="item_"+e),this._items[e]=t,this._itemNames[n]=e},t.prototype.getById=function(t){return this._items[t]},t.prototype.getByName=function(t){var e=this._itemNames[t];return"number"!=typeof e&&console.warn("item "+t+"  not found!"),"number"==typeof e?this._items[e]:null},Object.defineProperty(t.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),t}();t.IdNameMap=e}(j||(j={})),function(t){var e=function(){function t(){this.reset()}return Object.defineProperty(t.prototype,"current",{get:function(){return this._line.at(this._currentIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._line.at(this._nextIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextIndex",{get:function(){return this._nextIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastTime",{set:function(t){this._lastTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._line},set:function(t){this._line=t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._lastTime=-1,this._currentIndex=-1,this._nextIndex=0},t.prototype.step=function(t){var e=this._nextIndex,n=this._line.keys[e],i=n.time,r=t<this._lastTime;return!r&&i>this._lastTime&&i<=t||r&&(i>this._lastTime||i<=t)?(this._lastTime=i,this._currentIndex=e,++e>=this._line.keys.length&&(e=0),this._nextIndex=e,n):null},t}();t.LineStepper=e}(j||(j={})),function(t){var e=function(){function t(t,e){this._file=t,this._nodeList=e}return t.prototype.length=function(){return this._nodeList.length},t.prototype.processed=function(){this._file.processed()},t.prototype.getChildNodes=function(t,e){return this._file.getNodesForElement(this._nodeList[t],e)},t.prototype.getFolder=function(t){return this._file.getFolder(this._nodeList[t])},t.prototype.getFile=function(t){return this._file.getFile(this._nodeList[t])},t.prototype.getTag=function(t){return this._file.getTag(this._nodeList[t])},t.prototype.getEntity=function(t){return this._file.getEntity(this._nodeList[t])},t.prototype.getObjectInfo=function(t){return this._file.getObjectInfo(this._nodeList[t],t)},t.prototype.getCharMap=function(t){return this._file.getCharMap(this._nodeList[t])},t.prototype.getCharMapEntry=function(t,e,n){this._file.getCharMapEntry(this._nodeList[t],e,n)},t.prototype.getVariable=function(t){return this._file.getVariable(this._nodeList[t])},t.prototype.getAnimation=function(t){return this._file.getAnimation(this._nodeList[t])},t.prototype.getMainline=function(t){return this._file.getBaseline(this._nodeList[t])},t.prototype.getMainlineKey=function(t){return this._file.getMainlineKey(this._nodeList[t])},t.prototype.getRef=function(t){return this._file.getRef(this._nodeList[t])},t.prototype.getTimeline=function(t){return this._file.getTimeline(this._nodeList[t])},t.prototype.getSoundline=function(t){return this._file.getBaseline(this._nodeList[t])},t.prototype.getEventline=function(t){return this._file.getBaseline(this._nodeList[t])},t.prototype.getTagline=function(t){return this._file.getBaseline(this._nodeList[t])},t.prototype.getVarline=function(t){return this._file.getVarline(this._nodeList[t])},t.prototype.getKey=function(t){return this._file.getKey(this._nodeList[t])},t.prototype.getTagKey=function(t){return this._file.getTagKey(this._nodeList[t])},t.prototype.getVariableKey=function(t,e){return this._file.getVariableKey(this._nodeList[t],e)},t.prototype.getTimelineKey=function(t,e){return this._file.getTimelineKey(this._nodeList[t],t,e)},t.prototype.getTagChanges=function(t){for(var e=0,n=0;n<this.length();n++){e|=1<<this._file.getTagChange(this._nodeList[n])}return e},t}();t.NodeListBin=e}(j||(j={})),function(t){var e=function(){function t(t,e){this._file=t,this._nodeList=e,Array.isArray(e)||(e.length=1)}return t.prototype.length=function(){return this._nodeList.length},t.prototype.processed=function(){this._file.processed()},t.prototype.getNode=function(t){return Array.isArray(this._nodeList)?this._nodeList[t]:this._nodeList},t.prototype.getChildNodes=function(t,e){return this._file.getNodesForElement(this.getNode(t),e)},t.prototype.getFolder=function(t){return this._file.getFolder(this.getNode(t))},t.prototype.getFile=function(t){return this._file.getFile(this.getNode(t))},t.prototype.getTag=function(t){return this._file.getTag(this.getNode(t))},t.prototype.getEntity=function(t){return this._file.getEntity(this.getNode(t))},t.prototype.getObjectInfo=function(t){return this._file.getObjectInfo(this.getNode(t),t)},t.prototype.getCharMap=function(t){return this._file.getCharMap(this.getNode(t))},t.prototype.getCharMapEntry=function(t,e,n){this._file.getCharMapEntry(this.getNode(t),e,n)},t.prototype.getVariable=function(t){return this._file.getVariable(this.getNode(t))},t.prototype.getAnimation=function(t){return this._file.getAnimation(this.getNode(t))},t.prototype.getMainline=function(t){return this._file.getBaseline(this.getNode(t))},t.prototype.getMainlineKey=function(t){return this._file.getMainlineKey(this.getNode(t))},t.prototype.getRef=function(t){return this._file.getRef(this.getNode(t))},t.prototype.getTimeline=function(t){return this._file.getTimeline(this.getNode(t))},t.prototype.getSoundline=function(t){return this._file.getBaseline(this.getNode(t))},t.prototype.getEventline=function(t){return this._file.getBaseline(this.getNode(t))},t.prototype.getTagline=function(t){return this._file.getBaseline(this.getNode(t))},t.prototype.getVarline=function(t){return this._file.getVarline(this.getNode(t))},t.prototype.getKey=function(t){return this._file.getKey(this.getNode(t))},t.prototype.getTagKey=function(t){return this._file.getTagKey(this.getNode(t))},t.prototype.getVariableKey=function(t,e){return this._file.getVariableKey(this.getNode(t),e)},t.prototype.getTimelineKey=function(t,e){return this._file.getTimelineKey(this.getNode(t),t,e)},t.prototype.getTagChanges=function(t){for(var e=0,n=0;n<this.length();n++){e|=1<<this._file.getTagChange(this.getNode(n))}return e},t}();t.NodeListJSON=e}(j||(j={})),function(t){var e=function(){function t(t,e){this._file=t,this._nodeList=e}return t.prototype.length=function(){return this._nodeList.length},t.prototype.processed=function(){this._file.processed()},t.prototype.getChildNodes=function(t,e){return this._file.getNodesForElement(this._nodeList.item(t),e)},t.prototype.getFolder=function(t){return this._file.getFolder(this._nodeList.item(t))},t.prototype.getFile=function(t){return this._file.getFile(this._nodeList.item(t))},t.prototype.getTag=function(t){return this._file.getTag(this._nodeList.item(t))},t.prototype.getEntity=function(t){return this._file.getEntity(this._nodeList.item(t))},t.prototype.getObjectInfo=function(t){return this._file.getObjectInfo(this._nodeList.item(t),t)},t.prototype.getCharMap=function(t){return this._file.getCharMap(this._nodeList.item(t))},t.prototype.getCharMapEntry=function(t,e,n){this._file.getCharMapEntry(this._nodeList.item(t),e,n)},t.prototype.getVariable=function(t){return this._file.getVariable(this._nodeList.item(t))},t.prototype.getAnimation=function(t){return this._file.getAnimation(this._nodeList.item(t))},t.prototype.getMainline=function(t){return this._file.getBaseline(this._nodeList.item(t))},t.prototype.getMainlineKey=function(t){return this._file.getMainlineKey(this._nodeList.item(t))},t.prototype.getRef=function(t){return this._file.getRef(this._nodeList.item(t))},t.prototype.getTimeline=function(t){return this._file.getTimeline(this._nodeList.item(t))},t.prototype.getSoundline=function(t){return this._file.getBaseline(this._nodeList.item(t))},t.prototype.getEventline=function(t){return this._file.getBaseline(this._nodeList.item(t))},t.prototype.getTagline=function(t){return this._file.getBaseline(this._nodeList.item(t))},t.prototype.getVarline=function(t){return this._file.getVarline(this._nodeList.item(t))},t.prototype.getKey=function(t){return this._file.getKey(this._nodeList.item(t))},t.prototype.getTagKey=function(t){return this._file.getTagKey(this._nodeList.item(t))},t.prototype.getVariableKey=function(t,e){return this._file.getVariableKey(this._nodeList.item(t),e)},t.prototype.getTimelineKey=function(t,e){return this._file.getTimelineKey(this._nodeList.item(t),t,e)},t.prototype.getTagChanges=function(t){for(var e=0,n=0;n<this.length();n++){e|=1<<this._file.getTagChange(this._nodeList.item(n))}return e},t}();t.NodeListXml=e}(j||(j={})),function(t){!function(t){t[t.XML=0]="XML",t[t.JSON=1]="JSON",t[t.BIN=2]="BIN"}(t.eFileType||(t.eFileType={}));t.eFileType;!function(t){t[t.ORIGINAL=0]="ORIGINAL",t[t.NAME_ONLY=1]="NAME_ONLY",t[t.NAME_AND_EXTENSION=2]="NAME_AND_EXTENSION",t[t.FULL_PATH_NO_EXTENSION=3]="FULL_PATH_NO_EXTENSION"}(t.eImageNameType||(t.eImageNameType={}));var e=t.eImageNameType,n=function(){function t(t){var n=null!=t;this._imageNameType=n&&void 0!==t.imageNameType?t.imageNameType:e.NAME_ONLY,this._minDefs=n&&void 0!==t.minDefs?t.minDefs:null}return t.prototype.processed=function(){this.popMinDefsStack()},t.prototype.setMinimized=function(t){this._minimized=t,t&&(this._minDefsStack=[],null===this._minDefs)&&console.error("Spriter file is minimized - you must provide object with name definitions")},t.prototype.getFileName=function(t){var n;switch(this._imageNameType){case e.NAME_ONLY:n=t.split("\\").pop().split("/").pop().split(".")[0];break;case e.NAME_AND_EXTENSION:n=t.split("\\").pop().split("/").pop();break;case e.FULL_PATH_NO_EXTENSION:n=t.split(".")[0];break;case e.ORIGINAL:n=t}return n},t.prototype.translateElementName=function(t){if(this._minimized){if(this._minDefs.name!==t)return console.warn("current definition is "+this._minDefs.name),t;null!==this._minDefs.minName&&(t=this._minDefs.minName)}return t},t.prototype.translateChildElementName=function(t){if(this._minimized&&null!==this._minDefs){var e=this._minDefs.childElements;null!==e&&(t=null===e[t]?t:e[t].minName)}return t},t.prototype.translateAttributeName=function(t){if(this._minimized&&null!==this._minDefs){var e=this._minDefs.attributes;null!==e&&(t=null===e[t]?t:e[t])}return t},t.prototype.setMinDefsToElementName=function(t){if(this._minimized){this._minDefsStack.push(this._minDefs);var e=this._minDefs.childElements[t];this._minDefs=e}},t.prototype.popMinDefsStack=function(){this._minimized&&(this._minDefs=this._minDefsStack.pop())},t}();t.SpriterFile=n}(j||(j={})),function(t){var e=function(e){function n(t){e.call(this,null),this._elements={spriter_data:1,folder:2,file:3,entity:4,obj_info:5,frames:6,i:7,animation:8,mainline:9,key:10,bone_ref:11,object_ref:12,timeline:13,bone:14,object:15},this._smallOffset=!1,this._bin=new DataView(t),this._smallOffset=1===this._bin.getUint8(0)}return R(n,e),n.prototype.getType=function(){return t.eFileType.BIN},n.prototype.readUint8=function(){return this._bin.getUint8(this._tmpPosition++)},n.prototype.readInt8=function(){return this._bin.getInt8(this._tmpPosition++)},n.prototype.readUint16=function(){var t=this._bin.getUint16(this._tmpPosition,!0);return this._tmpPosition+=2,t},n.prototype.readInt16=function(){var t=this._bin.getInt16(this._tmpPosition,!0);return this._tmpPosition+=2,t},n.prototype.readUint32=function(){var t=this._bin.getUint32(this._tmpPosition,!0);return this._tmpPosition+=4,t},n.prototype.readInt32=function(){var t=this._bin.getInt32(this._tmpPosition,!0);return this._tmpPosition+=4,t},n.prototype.readFixed16_16=function(){var t=this._bin.getInt32(this._tmpPosition,!0);return this._tmpPosition+=4,t/65536},n.prototype.readFixed1_7=function(){return(255&this._bin.getInt8(this._tmpPosition++))/128},n.prototype.readString=function(){for(var t=[],e=this._bin.getUint8(this._tmpPosition++)-1;e>=0;e--)t.push(this._bin.getUint8(this._tmpPosition++));return String.fromCharCode.apply(null,t)},n.prototype.getNodes=function(e){return new t.NodeListBin(this,this.getSubNodesOfElementType(1,this._elements[e]))},n.prototype.getNodesForElement=function(e,n){return new t.NodeListBin(this,this.getSubNodesOfElementType(e,this._elements[n]))},n.prototype.getSubNodesOfElementType=function(t,e){var n=[],i=this._bin.getUint8(t+1);t+=2;for(var r=0;r<i;r++){var o=this._smallOffset?this._bin.getUint16(t+2*r,!0):this._bin.getUint32(t+4*r,!0);this._bin.getUint8(t+o)===e&&n.push(t+o)}return n},n.prototype.getAttribsPosition=function(t){return t+2+this._bin.getUint8(t+1)*(this._smallOffset?2:4)},n.prototype.getFolder=function(e){this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r="",o=this._bin.getUint8(this._tmpPosition++)-1;o>=0;o--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_FOLDER_ID:i=this.readUint8();break;case n.ATTR_FOLDER_NAME:r=this.readString()}return new t.Folder(i,r)},n.prototype.getFile=function(e){console.log("skip sound loading"),this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r="",o=0,a=0,s=this._bin.getUint8(this._tmpPosition++)-1;s>=0;s--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_FILE_ID:i=this.readUint8();break;case n.ATTR_FILE_NAME:r=this.readString();break;case n.ATTR_FILE_PIVOT_X:o=this.readFixed16_16();break;case n.ATTR_FILE_PIVOT_Y:a=this.readFixed16_16();break;case n.ATTR_FILE_WIDTH:case n.ATTR_FILE_HEIGHT:this._tmpPosition+=2}return new t.File(i,this.getFileName(r),o,1-a)},n.prototype.getTag=function(t){return console.error("implement loading Tag"),null},n.prototype.getEntity=function(e){this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r="",o=this._bin.getUint8(this._tmpPosition++)-1;o>=0;o--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_ENTITY_ID:i=this.readUint8();break;case n.ATTR_ENTITY_NAME:r=this.readString()}return new t.Entity(i,r)},n.prototype.getObjectInfo=function(e,i){this._tmpPosition=this.getAttribsPosition(e);for(var r="",o=0,a=0,s=0,u=this._bin.getUint8(this._tmpPosition++)-1;u>=0;u--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_OBJ_INFO_NAME:r=this.readString();break;case n.ATTR_OBJ_INFO_TYPE:1===this.readUint8()&&(o=1);break;case n.ATTR_OBJ_INFO_WIDTH:a=this.readFixed16_16();break;case n.ATTR_OBJ_INFO_HEIGHT:s=this.readFixed16_16()}return console.error("add loading of pivots"),new t.ObjectInfo(i,r,o,a,s,0,0)},n.prototype.getCharMap=function(t){return console.error("add loading of charmaps"),null},n.prototype.getCharMapEntry=function(t,e,n){return console.error("add loading of charmap entries"),null},n.prototype.getVariable=function(t){return console.error("add loading of variables"),null},n.prototype.getAnimation=function(e){this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r="",o=0,a=t.eAnimationLooping.LOOPING,s=this._bin.getUint8(this._tmpPosition++)-1;s>=0;s--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_ANIMATION_ID:i=this.readUint8();break;case n.ATTR_ANIMATION_NAME:r=this.readString();break;case n.ATTR_ANIMATION_LENGTH:o=this.readUint32();break;case n.ATTR_ANIMATION_INTERVAL:this._tmpPosition+=2;break;case n.ATTR_ANIMATION_LOOPING:a=1===this.readUint8()?t.eAnimationLooping.LOOPING:t.eAnimationLooping.NO_LOOPING}return new t.Animation(i,r,o,a)},n.prototype.getMainlineKey=function(e){this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r=0,o=this._bin.getUint8(this._tmpPosition++)-1;o>=0;o--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_MAINLINE_KEY_ID:i=this.readUint8();break;case n.ATTR_MAINLINE_KEY_TIME:r=this.readUint32()}return new t.KeyMainline(i,r)},n.prototype.getRef=function(e){this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r=-1,o=0,a=0,s=0,u=this._bin.getUint8(this._tmpPosition++)-1;u>=0;u--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_BONE_REF_ID:case n.ATTR_OBJ_REF_ID:i=this.readUint8();break;case n.ATTR_BONE_REF_PARENT:case n.ATTR_OBJ_REF_PARENT:r=this.readUint8();break;case n.ATTR_BONE_REF_TIMELINE:case n.ATTR_OBJ_REF_TIMELINE:o=this.readUint8();break;case n.ATTR_BONE_REF_KEY:case n.ATTR_OBJ_REF_KEY:a=this.readUint8();break;case n.ATTR_OBJ_REF_Z:s=this.readUint8();break;case n.ATTR_OBJ_REF_NAME:this.readString();break;case n.ATTR_OBJ_REF_FOLDER:case n.ATTR_OBJ_REF_FILE:++this._tmpPosition;break;case n.ATTR_OBJ_REF_ABS_X:case n.ATTR_OBJ_REF_ABS_Y:case n.ATTR_OBJ_REF_ABS_PIVOT_X:case n.ATTR_OBJ_REF_ABS_PIVOT_Y:case n.ATTR_OBJ_REF_ABS_SCALE_X:case n.ATTR_OBJ_REF_ABS_SCALE_Y:case n.ATTR_OBJ_REF_ANGLE:this._tmpPosition+=4;break;case n.ATTR_OBJ_REF_ALPHA:++this._tmpPosition}return new t.Ref(i,r,o,a,s)},n.prototype.getTimeline=function(e){console.error("add loading of all types of objects"),this._tmpPosition=this.getAttribsPosition(e);for(var i=0,r="",o=0,a=0,s=this._bin.getUint8(this._tmpPosition++)-1;s>=0;s--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_TIMELINE_ID:i=this.readUint8();break;case n.ATTR_TIMELINE_NAME:r=this.readString();break;case n.ATTR_TIMELINE_OBJ:o=this.readUint8();break;case n.ATTR_TIMELINE_OBJ_TYPE:1===this.readUint8()&&(a=1)}return new t.Timeline(i,r,a,o)},n.prototype.getBaseline=function(t){return console.error("add loading of baselines"),null},n.prototype.getVarline=function(t){return console.error("add loading of varlines"),null},n.prototype.getKey=function(t){return console.error("add loading of keys"),null},n.prototype.getTagKey=function(t){return console.error("add loading of tag keys"),null},n.prototype.getVariableKey=function(t,e){return console.error("add loading of variable keys"),null},n.prototype.getTimelineKey=function(e,i,r){this._tmpPosition=this.getAttribsPosition(e);for(var o=0,a=1,s=0,u=0,c=0,h=this._bin.getUint8(this._tmpPosition++)-1;h>=0;h--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_TIMELINE_KEY_ID:++this._tmpPosition;break;case n.ATTR_TIMELINE_KEY_TIME:o=this.readUint32();break;case n.ATTR_TIMELINE_KEY_SPIN:a=this.readInt8();break;case n.ATTR_TIMELINE_KEY_CURVE:s=this.readUint8();break;case n.ATTR_TIMELINE_KEY_C1:u=this.readFixed1_7();break;case n.ATTR_TIMELINE_KEY_C2:c=this.readFixed1_7()}var l=(e+=2)+(this._smallOffset?this._bin.getUint16(e,!0):this._bin.getUint32(e,!0)),f=this._bin.getUint8(l),p=null,d=!1;14===f?p=new t.KeyBone(i,o,a):15===f&&(p=new t.KeyObject(i,o,a),d=!0),0!==s&&p.setCurve(s,u,c,0,0),this._tmpPosition=this.getAttribsPosition(l);var g=p.info;g.x=0,g.y=0,g.scaleX=1,g.scaleY=1,g.angle=0,g.alpha=1;var y=0,m=!1,v=0,_=!1,b=0,w=0;for(h=this._bin.getUint8(this._tmpPosition++)-1;h>=0;h--)switch(this._bin.getUint8(this._tmpPosition++)){case n.ATTR_BONE_X:case n.ATTR_OBJ_X:g.x=this.readFixed16_16();break;case n.ATTR_BONE_Y:case n.ATTR_OBJ_Y:g.y=-this.readFixed16_16();break;case n.ATTR_BONE_ANGLE:case n.ATTR_OBJ_ANGLE:g.angle=360-this.readFixed16_16();break;case n.ATTR_BONE_SCALE_X:case n.ATTR_OBJ_SCALE_X:g.scaleX=this.readFixed16_16();break;case n.ATTR_BONE_SCALE_Y:case n.ATTR_OBJ_SCALE_Y:g.scaleY=this.readFixed16_16();break;case n.ATTR_OBJ_FOLDER:b=this.readUint8();break;case n.ATTR_OBJ_FILE:w=this.readUint8();break;case n.ATTR_OBJ_PIVOT_X:y=this.readFixed16_16(),m=!0;break;case n.ATTR_OBJ_PIVOT_Y:v=this.readFixed16_16(),_=!0;break;case n.ATTR_OBJ_ALPHA:g.alpha=this.readFixed1_7()}if(d){p.setFolderAndFile(b,w);var S=r.getFolderById(b).getFileById(w);g.pivotX=m?y:S.pivotX,g.pivotY=1-(_?v:1-S.pivotY)}return p},n.prototype.getTagChange=function(t){return console.error("add loading of tag changes"),null},n.ATTR_VERSION=0,n.ATTR_GENERATOR=1,n.ATTR_GENERATOR_VERSION=2,n.ATTR_FOLDER_ID=0,n.ATTR_FOLDER_NAME=1,n.ATTR_FILE_ID=0,n.ATTR_FILE_NAME=1,n.ATTR_FILE_WIDTH=2,n.ATTR_FILE_HEIGHT=3,n.ATTR_FILE_PIVOT_X=4,n.ATTR_FILE_PIVOT_Y=5,n.ATTR_ENTITY_ID=0,n.ATTR_ENTITY_NAME=1,n.ATTR_OBJ_INFO_NAME=0,n.ATTR_OBJ_INFO_TYPE=1,n.ATTR_OBJ_INFO_WIDTH=2,n.ATTR_OBJ_INFO_HEIGHT=3,n.ATTR_FRAMES_I_FOLDER=0,n.ATTR_FRAMES_I_FILE=1,n.ATTR_ANIMATION_ID=0,n.ATTR_ANIMATION_NAME=1,n.ATTR_ANIMATION_LENGTH=2,n.ATTR_ANIMATION_INTERVAL=3,n.ATTR_ANIMATION_LOOPING=4,n.ATTR_MAINLINE_KEY_ID=0,n.ATTR_MAINLINE_KEY_TIME=1,n.ATTR_BONE_REF_ID=0,n.ATTR_BONE_REF_PARENT=1,n.ATTR_BONE_REF_TIMELINE=2,n.ATTR_BONE_REF_KEY=3,n.ATTR_OBJ_REF_ID=4,n.ATTR_OBJ_REF_PARENT=5,n.ATTR_OBJ_REF_TIMELINE=6,n.ATTR_OBJ_REF_KEY=7,n.ATTR_OBJ_REF_NAME=8,n.ATTR_OBJ_REF_Z=9,n.ATTR_OBJ_REF_FOLDER=10,n.ATTR_OBJ_REF_FILE=11,n.ATTR_OBJ_REF_ABS_X=12,n.ATTR_OBJ_REF_ABS_Y=13,n.ATTR_OBJ_REF_ABS_PIVOT_X=14,n.ATTR_OBJ_REF_ABS_PIVOT_Y=15,n.ATTR_OBJ_REF_ABS_SCALE_X=16,n.ATTR_OBJ_REF_ABS_SCALE_Y=17,n.ATTR_OBJ_REF_ANGLE=18,n.ATTR_OBJ_REF_ALPHA=19,n.ATTR_TIMELINE_ID=0,n.ATTR_TIMELINE_NAME=1,n.ATTR_TIMELINE_OBJ=2,n.ATTR_TIMELINE_OBJ_TYPE=3,n.ATTR_TIMELINE_KEY_ID=0,n.ATTR_TIMELINE_KEY_TIME=1,n.ATTR_TIMELINE_KEY_SPIN=2,n.ATTR_TIMELINE_KEY_CURVE=3,n.ATTR_TIMELINE_KEY_C1=4,n.ATTR_TIMELINE_KEY_C2=5,n.ATTR_BONE_X=0,n.ATTR_BONE_Y=1,n.ATTR_BONE_ANGLE=2,n.ATTR_BONE_SCALE_X=3,n.ATTR_BONE_SCALE_Y=4,n.ATTR_OBJ_FOLDER=5,n.ATTR_OBJ_FILE=6,n.ATTR_OBJ_X=7,n.ATTR_OBJ_Y=8,n.ATTR_OBJ_SCALE_X=9,n.ATTR_OBJ_SCALE_Y=10,n.ATTR_OBJ_PIVOT_X=11,n.ATTR_OBJ_PIVOT_Y=12,n.ATTR_OBJ_ANGLE=13,n.ATTR_OBJ_ALPHA=14,n}(t.SpriterFile);t.SpriterBin=e}(j||(j={})),function(t){var e=function(e){function n(t,n){e.call(this,n),this._json=t;var i=void 0!==t.min;this.setMinimized(i)}return R(n,e),n.prototype.getType=function(){return t.eFileType.JSON},n.prototype.parseInt=function(t,e,n){void 0===n&&(n=0);var i=t[this.translateAttributeName(e)];return void 0===i?n:"number"==typeof i?i:parseInt(i)},n.prototype.parseFloat=function(t,e,n){void 0===n&&(n=0);var i=t[this.translateAttributeName(e)];return void 0===i?n:"number"==typeof i?i:parseFloat(i)},n.prototype.parseBoolean=function(t,e,n){void 0===n&&(n=!1);var i=t[this.translateAttributeName(e)];return void 0===i?n:"boolean"==typeof i?i:"true"===i},n.prototype.parseString=function(t,e,n){void 0===n&&(n="");var i=t[this.translateAttributeName(e)];return void 0===i?n:i},n.prototype.getNodes=function(e){this.setMinDefsToElementName(e);var n=this.translateElementName(e);return new t.NodeListJSON(this,void 0!==this._json[n]?this._json[n]:[])},n.prototype.getNodesForElement=function(e,n){this.setMinDefsToElementName(n);var i=this.translateElementName(n);return new t.NodeListJSON(this,void 0!==e[i]?e[i]:[])},n.prototype.getFolder=function(e){return new t.Folder(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getFile=function(e){return void 0!==e.type&&"sound"===e.type?null:new t.File(this.parseInt(e,"id"),this.getFileName(this.parseString(e,"name")),this.parseFloat(e,"pivot_x"),1-this.parseFloat(e,"pivot_y"))},n.prototype.getTag=function(e){return new t.Item(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getEntity=function(e){return new t.Entity(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getObjectInfo=function(e,n){return new t.ObjectInfo(n,this.parseString(e,"name"),t.Types.getObjectTypeForName(this.parseString(e,"type")),this.parseFloat(e,"w"),this.parseFloat(e,"h"),this.parseFloat(e,"pivot_x"),this.parseFloat(e,"pivot_y"))},n.prototype.getCharMap=function(e){return new t.CharMap(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getCharMapEntry=function(t,e,n){var i=n.getFolderById(this.parseInt(t,"folder")).getFileById(this.parseInt(t,"file")).name,r=null;void 0!==t.target_folder&&void 0!==t.target_file&&(r=n.getFolderById(this.parseInt(t,"target_folder")).getFileById(this.parseInt(t,"target_file"))),e.put(i,r)},n.prototype.getVariable=function(e){var n=t.Types.getVariableTypeForName(this.parseString(e,"type"));return new t.Variable(this.parseInt(e,"id"),this.parseString(e,"name"),n,2===n?this.parseString(e,"default"):this.parseFloat(e,"default",0))},n.prototype.getAnimation=function(e){return new t.Animation(this.parseInt(e,"id"),this.parseString(e,"name"),this.parseFloat(e,"length"),!0===this.parseBoolean(e,"looping",!0)?t.eAnimationLooping.LOOPING:t.eAnimationLooping.NO_LOOPING)},n.prototype.getMainlineKey=function(e){return new t.KeyMainline(this.parseInt(e,"id"),this.parseFloat(e,"time"))},n.prototype.getRef=function(e){return new t.Ref(this.parseInt(e,"id"),this.parseInt(e,"parent",-1),this.parseInt(e,"timeline"),this.parseInt(e,"key"),this.parseInt(e,"z_index"))},n.prototype.getTimeline=function(e){return new t.Timeline(this.parseInt(e,"id"),this.parseString(e,"name"),t.Types.getObjectTypeForName(this.parseString(e,"object_type","sprite")),this.parseInt(e,"obj",-1))},n.prototype.getBaseline=function(e){return new t.Baseline(this.parseInt(e,"id"),this.parseString(e,"name",null))},n.prototype.getVarline=function(e){return new t.Varline(this.parseInt(e,"id"),this.parseInt(e,"def"))},n.prototype.getKey=function(e){return new t.Key(this.parseInt(e,"id"),this.parseInt(e,"time"))},n.prototype.getTagKey=function(e){return new t.KeyTag(this.parseInt(e,"id"),this.parseInt(e,"time"))},n.prototype.getVariableKey=function(e,n){return new t.KeyVariable(this.parseInt(e,"id"),this.parseInt(e,"time"),2===n?this.parseString(e,"val"):this.parseFloat(e,"val"))},n.prototype.getTimelineKey=function(e,n,i){var r=this.parseInt(e,"time"),o=this.parseInt(e,"spin",1),a=this.parseString(e,"curve_type","linear"),s=this.parseFloat(e,"c1",0),u=this.parseFloat(e,"c2",0),c=this.parseFloat(e,"c3",0),h=this.parseFloat(e,"c4",0),l=this.translateChildElementName("bone"),f=this.translateChildElementName("object"),p=null,d=null,g=!1;void 0!==e[l]?(d=e[l],p=new t.KeyBone(n,r,o),this.setMinDefsToElementName("bone")):void 0!==e[f]&&(d=e[f],p=new t.KeyObject(n,r,o),this.setMinDefsToElementName("object"),g=!0),"linear"!==a&&p.setCurve(t.Types.getCurveTypeForName(a),s,u,c,h);var y=p.info;if(y.x=this.parseFloat(d,"x"),y.y=-this.parseFloat(d,"y"),y.scaleX=this.parseFloat(d,"scale_x",1),y.scaleY=this.parseFloat(d,"scale_y",1),y.angle=360-this.parseFloat(d,"angle"),y.alpha=this.parseFloat(d,"a",1),g){var m=this.parseInt(d,"folder"),v=this.parseInt(d,"file");p.setFolderAndFile(m,v);var _=i.getFolderById(m).getFileById(v);y.pivotX=this.parseFloat(d,"pivot_x",_.pivotX),y.pivotY=1-this.parseFloat(d,"pivot_y",1-_.pivotY)}return this.popMinDefsStack(),p},n.prototype.getTagChange=function(t){return this.parseInt(t,"t")},n}(t.SpriterFile);t.SpriterJSON=e}(j||(j={})),function(t){var e=function(e){function n(t,n){e.call(this,n),this._xml=t;var i=t.documentElement.hasAttribute("min");this.setMinimized(i)}return R(n,e),n.prototype.getType=function(){return t.eFileType.XML},n.prototype.parseInt=function(t,e,n){void 0===n&&(n=0);var i=t.getAttribute(this.translateAttributeName(e));return null!==i?parseInt(i):n},n.prototype.parseFloat=function(t,e,n){void 0===n&&(n=0);var i=t.getAttribute(this.translateAttributeName(e));return null!==i?parseFloat(i):n},n.prototype.parseString=function(t,e,n){void 0===n&&(n="");var i=t.getAttribute(this.translateAttributeName(e));return null!==i?i:n},n.prototype.getNodes=function(e){this.setMinDefsToElementName(e);var n=this.translateElementName(e);return new t.NodeListXml(this,this._xml.documentElement.getElementsByTagName(n))},n.prototype.getNodesForElement=function(e,n){this.setMinDefsToElementName(n);var i=this.translateElementName(n);return new t.NodeListXml(this,e.getElementsByTagName(i))},n.prototype.getFolder=function(e){return new t.Folder(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getFile=function(e){return e.hasAttribute("type")&&"sound"===e.getAttribute("type")?null:new t.File(this.parseInt(e,"id"),this.getFileName(this.parseString(e,"name")),this.parseFloat(e,"pivot_x"),1-this.parseFloat(e,"pivot_y"))},n.prototype.getTag=function(e){return new t.Item(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getEntity=function(e){return new t.Entity(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getObjectInfo=function(e,n){return new t.ObjectInfo(n,this.parseString(e,"name"),t.Types.getObjectTypeForName(this.parseString(e,"type")),this.parseFloat(e,"w"),this.parseFloat(e,"h"),this.parseFloat(e,"pivot_x"),this.parseFloat(e,"pivot_y"))},n.prototype.getCharMap=function(e){return new t.CharMap(this.parseInt(e,"id"),this.parseString(e,"name"))},n.prototype.getCharMapEntry=function(t,e,n){var i=n.getFolderById(this.parseInt(t,"folder")).getFileById(this.parseInt(t,"file")).name,r=null;t.hasAttribute("target_folder")&&t.hasAttribute("target_file")&&(r=n.getFolderById(this.parseInt(t,"target_folder")).getFileById(this.parseInt(t,"target_file"))),e.put(i,r)},n.prototype.getVariable=function(e){var n=t.Types.getVariableTypeForName(this.parseString(e,"type"));return new t.Variable(this.parseInt(e,"id"),this.parseString(e,"name"),n,2===n?this.parseString(e,"default"):this.parseFloat(e,"default",0))},n.prototype.getAnimation=function(e){return new t.Animation(this.parseInt(e,"id"),this.parseString(e,"name"),this.parseFloat(e,"length"),"true"===this.parseString(e,"looping","true")?t.eAnimationLooping.LOOPING:t.eAnimationLooping.NO_LOOPING)},n.prototype.getMainlineKey=function(e){return new t.KeyMainline(this.parseInt(e,"id"),this.parseFloat(e,"time"))},n.prototype.getRef=function(e){return new t.Ref(this.parseInt(e,"id"),this.parseInt(e,"parent",-1),this.parseInt(e,"timeline"),this.parseInt(e,"key"),this.parseInt(e,"z_index"))},n.prototype.getTimeline=function(e){return new t.Timeline(this.parseInt(e,"id"),this.parseString(e,"name"),t.Types.getObjectTypeForName(this.parseString(e,"object_type","sprite")),this.parseInt(e,"obj",-1))},n.prototype.getBaseline=function(e){return new t.Baseline(this.parseInt(e,"id"),this.parseString(e,"name",null))},n.prototype.getVarline=function(e){return new t.Varline(this.parseInt(e,"id"),this.parseInt(e,"def"))},n.prototype.getKey=function(e){return new t.Key(this.parseInt(e,"id"),this.parseInt(e,"time"))},n.prototype.getTagKey=function(e){return new t.KeyTag(this.parseInt(e,"id"),this.parseInt(e,"time"))},n.prototype.getVariableKey=function(e,n){return new t.KeyVariable(this.parseInt(e,"id"),this.parseInt(e,"time"),2===n?this.parseString(e,"val"):this.parseFloat(e,"val"))},n.prototype.getTimelineKey=function(e,n,i){var r=this.parseInt(e,"time"),o=this.parseInt(e,"spin",1),a=this.parseString(e,"curve_type","linear"),s=this.parseFloat(e,"c1",0),u=this.parseFloat(e,"c2",0),c=this.parseFloat(e,"c3",0),h=this.parseFloat(e,"c4",0),l=this.translateChildElementName("bone"),f=this.translateChildElementName("object"),p=null,d=e.firstElementChild,g=!1;d.tagName===l?(p=new t.KeyBone(n,r,o),this.setMinDefsToElementName("bone")):d.tagName===f&&(this.setMinDefsToElementName("object"),p=new t.KeyObject(n,r,o),g=!0),"linear"!==a&&p.setCurve(t.Types.getCurveTypeForName(a),s,u,c,h);var y=p.info;if(y.x=this.parseFloat(d,"x"),y.y=-this.parseFloat(d,"y"),y.scaleX=this.parseFloat(d,"scale_x",1),y.scaleY=this.parseFloat(d,"scale_y",1),y.angle=360-this.parseFloat(d,"angle"),y.alpha=this.parseFloat(d,"a",1),g){var m=this.parseInt(d,"folder"),v=this.parseInt(d,"file");p.setFolderAndFile(m,v);var _=i.getFolderById(m).getFileById(v);y.pivotX=this.parseFloat(d,"pivot_x",_.pivotX),y.pivotY=1-this.parseFloat(d,"pivot_y",1-_.pivotY)}return this.popMinDefsStack(),p},n.prototype.getTagChange=function(t){return this.parseInt(t,"t")},n}(t.SpriterFile);t.SpriterXml=e}(j||(j={})),function(t){var e=function(){function t(t,e){this._id=t,this._name=e}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();t.Item=e}(j||(j={})),function(t){!function(t){t[t.NO_LOOPING=0]="NO_LOOPING",t[t.LOOPING=1]="LOOPING"}(t.eAnimationLooping||(t.eAnimationLooping={}));t.eAnimationLooping;var e=function(e){function n(n,i,r,o){e.call(this,n,i),this._length=r,this._loopType=o,this._timelines=new t.IdNameMap,this._lines=new t.IdNameMap}return R(n,e),Object.defineProperty(n.prototype,"mainline",{get:function(){return this._mainline},set:function(t){this._mainline=t},enumerable:!0,configurable:!0}),n.prototype.addTimeline=function(t){this._timelines.add(t,t.id,t.name)},n.prototype.getTimelineById=function(t){return this._timelines.getById(t)},n.prototype.getTimelineByName=function(t){return this._timelines.getByName(t)},n.prototype.addLine=function(t){this._lines.add(t,this._lines.length,t.name)},n.prototype.getLineById=function(t){return this._lines.getById(t)},n.prototype.getLineByName=function(t){return this._lines.getByName(t)},Object.defineProperty(n.prototype,"linesLength",{get:function(){return this._lines.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"loopType",{get:function(){return this._loopType},enumerable:!0,configurable:!0}),n}(t.Item);t.Animation=e}(j||(j={})),function(t){var e=function(e){function n(n,i){e.call(this,n,i),this._objectInfos=new t.IdNameMap,this._charMaps=new t.IdNameMap,this._variables=new t.IdNameMap,this._animations=new t.IdNameMap}return R(n,e),n.prototype.addObjectInfo=function(t){this._objectInfos.add(t,t.id,t.name)},n.prototype.getObjectInfoById=function(t){return this._objectInfos.getById(t)},n.prototype.getObjectInfoByName=function(t){return this._objectInfos.getByName(t)},n.prototype.addCharMap=function(t){this._charMaps.add(t,t.id,t.name)},n.prototype.getCharMapById=function(t){return this._charMaps.getById(t)},n.prototype.getCharMapByName=function(t){return this._charMaps.getByName(t)},Object.defineProperty(n.prototype,"charMapsLength",{get:function(){return this._charMaps.length},enumerable:!0,configurable:!0}),n.prototype.addVariable=function(t){this._variables.add(t,t.id,t.name)},n.prototype.getVariableById=function(t){return this._variables.getById(t)},n.prototype.getVariableByName=function(t){return this._variables.getByName(t)},Object.defineProperty(n.prototype,"variablesLength",{get:function(){return this._variables.length},enumerable:!0,configurable:!0}),n.prototype.addAnimation=function(t){this._animations.add(t,t.id,t.name)},n.prototype.getAnimationById=function(t){return this._animations.getById(t)},n.prototype.getAnimationByName=function(t){return this._animations.getByName(t)},Object.defineProperty(n.prototype,"animationsLength",{get:function(){return this._animations.length},enumerable:!0,configurable:!0}),n}(t.Item);t.Entity=e}(j||(j={})),function(t){var e=function(t){function e(e,n,i,r){t.call(this,e,n),this._pivotX=i,this._pivotY=r}return R(e,t),Object.defineProperty(e.prototype,"pivotX",{get:function(){return this._pivotX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pivotY",{get:function(){return this._pivotY},enumerable:!0,configurable:!0}),e}(t.Item);t.File=e}(j||(j={})),function(t){var e=function(e){function n(n,i){e.call(this,n,i),this._files=new t.IdNameMap}return R(n,e),n.prototype.addFile=function(t){this._files.add(t,t.id,t.name)},n.prototype.getFileById=function(t){return this._files.getById(t)},n.prototype.getFileByName=function(t){return this._files.getByName(t)},n}(t.Item);t.Folder=e}(j||(j={})),function(t){var e=function(t){function e(){t.apply(this,arguments)}return R(e,t),e.prototype.put=function(t,e){void 0===this._map&&(this._map={}),void 0!==this._map[t]&&console.error("Key with name "+t+" already exists"),this._map[t]=e},e.prototype.value=function(t){return this._map[t]},e}(t.Item);t.CharMap=e}(j||(j={})),function(t){var e=function(){function t(t){this._stack=[],this._length=0,this._entity=t}return t.prototype.reset=function(){this._length=0},t.prototype.push=function(t){var e=this.getCharMap(t);this._stack[this._length++]=e},t.prototype.remove=function(t){var e=this.getCharMap(t),n=this.findCharMap(e);if(-1!==n){for(var i=n;i<this._length-2;i++)this._stack[i]=this._stack[i+1];this._stack[--this._length]=null}},t.prototype.getFile=function(t){for(var e=this._length-1;e>=0;e--){var n=this._stack[e].value(t.name);if(void 0!==n)return n}return t},t.prototype.getCharMap=function(t){var e=this._entity.getCharMapByName(t);return null===t&&console.error("charmap with name "+t+" does not exist"),e},t.prototype.findCharMap=function(t){for(var e=0;e<this._length;e++)if(this._stack[e]===t)return e;return-1},t}();t.CharMapStack=e}(j||(j={})),function(t){var e=function(){function t(t,e){this._id=t,this._time=e}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0}),t}();t.Key=e}(j||(j={})),function(t){var e=function(t){function e(){t.apply(this,arguments),this._boneRefs=[],this._objectRefs=[]}return R(e,t),Object.defineProperty(e.prototype,"boneRefs",{get:function(){return this._boneRefs},enumerable:!0,configurable:!0}),e.prototype.addBoneRef=function(t){this._boneRefs.push(t)},Object.defineProperty(e.prototype,"objectRefs",{get:function(){return this._objectRefs},enumerable:!0,configurable:!0}),e.prototype.addObjectRef=function(t){this._objectRefs.push(t)},e}(t.Key);t.KeyMainline=e}(j||(j={})),function(t){var e=function(t){function e(){t.apply(this,arguments)}return R(e,t),Object.defineProperty(e.prototype,"tagsOn",{get:function(){return this._tagsOn},set:function(t){this._tagsOn=t},enumerable:!0,configurable:!0}),e}(t.Key);t.KeyTag=e}(j||(j={})),function(t){var e=function(t){function e(e,n,i){t.call(this,e,n),this._value=i}return R(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(t.Key);t.KeyVariable=e}(j||(j={})),function(t){!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.MAIN_LINE=1]="MAIN_LINE",t[t.TIME_LINE=2]="TIME_LINE",t[t.SOUND_LINE=3]="SOUND_LINE",t[t.EVENT_LINE=4]="EVENT_LINE",t[t.TAG_LINE=5]="TAG_LINE",t[t.VAR_LINE=6]="VAR_LINE"}(t.eTimelineType||(t.eTimelineType={}));var e=t.eTimelineType,n=function(t){function n(n,i){void 0===i&&(i=null),t.call(this,n,i),this._type=e.UNKNOWN}return R(n,t),Object.defineProperty(n.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),n.prototype.add=function(t){null!==this._keys&&void 0!==this._keys||(this._keys=[]),this._keys.push(t)},n.prototype.at=function(t,e){if(void 0===e&&(e=!0),t<0)return null;var n=this._keys.length;return t>=n&&(e?t%=n:t=n-1),this._keys[t]},n}(t.Item);t.Baseline=n}(j||(j={})),function(t){function e(t,e,n){return(e-t)*n+t}function n(t,n,i,r){return e(e(t,n,r),e(n,i,r),r)}function i(t,i,r,o,a){return e(n(t,i,r,a),n(i,r,o,a),a)}function r(t,n,r,o,a,s){return e(i(t,n,r,o,s),i(n,r,o,a,s),s)}function o(t,e,n){var i=1-n,r=n*n,o=i*i;return 0+3*o*n*t+3*i*r*e+1*(r*n)}t.linear=e,t.quadratic=n,t.cubic=i,t.quartic=r,t.quintic=function(t,n,i,o,a,s,u){return e(r(t,n,i,o,a,u),r(n,i,o,a,s,u),u)},t.bezier=function(t,e,n,i,r){for(var a=0,s=1,u=(s+a)/2,c=o(t,n,u),h=0;Math.abs(r-c)>.001&&h<10;)r>c?a=u:s=u,c=o(t,n,u=(s+a)/2),++h;return o(e,i,u)},t.angleLinear=function(t,e,n,i){return 0===n?t:(n>0?e>t&&(e-=360):e<t&&(e+=360),this.linear(t,e,i))}}(j||(j={})),function(t){var e=function(t){function e(e,n,i,r){t.call(this,e,n),this._type=i,this._default=r,this.reset()}return R(e,t),e.prototype.clone=function(){return new e(this.id,this.name,this.type,this._default)},e.prototype.reset=function(){this.value=this._default},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){0===this._type?this._value=Math.floor(t):this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"int",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"float",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(t.Item);t.Variable=e}(j||(j={})),function(t){var e=function(e){function n(n,i){e.call(this,n,null),this._varDefId=i,this.type=t.eTimelineType.VAR_LINE}return R(n,e),Object.defineProperty(n.prototype,"varDefId",{get:function(){return this._varDefId},enumerable:!0,configurable:!0}),n}(t.Baseline);t.Varline=e}(j||(j={})),function(t){var e=function(t){function e(e,n,i,r,o,a,s){t.call(this,e,n),this._type=i,this._width=r,this._height=o,this._pivotX=a,this._pivotY=s}return R(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pivotX",{get:function(){return this._pivotX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pivotY",{get:function(){return this._pivotY},enumerable:!0,configurable:!0}),e}(t.Item);t.ObjectInfo=e}(j||(j={})),function(t){var e=function(){function t(){}return t.getObjectTypeForName=function(e){var n=t.nameToObjectType[e];return void 0===n&&console.error("Unknown type of object: "+e),n},t.getCurveTypeForName=function(e){var n=t.nameToCurveType[e];return void 0===n&&console.error("Unknown type of curve: "+e),n},t.getVariableTypeForName=function(e){var n=t.nameToVariableType[e];return void 0===n&&console.error("Unknown type of variable: "+e),n},t.nameToObjectType={sprite:0,bone:1,box:2,point:3,sound:4},t.nameToCurveType={instant:1,linear:0,quadratic:2,cubic:3,quartic:4,quintic:5,bezier:6},t.nameToVariableType={int:0,float:1,string:2},t}();t.Types=e}(j||(j={})),function(t){var e=function(){return function(t,e,n,i,r){void 0===r&&(r=0),this.id=t,this.parent=e,this.timeline=n,this.key=i,this.z=r}}();t.Ref=e}(j||(j={})),function(t){var e=function(e){function n(n,i,r,o){void 0===r&&(r=0),void 0===o&&(o=-1),e.call(this,n,i),this.type=t.eTimelineType.TIME_LINE,this._objectType=r,this._objectRef=o}return R(n,e),Object.defineProperty(n.prototype,"objectType",{get:function(){return this._objectType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectRef",{get:function(){return this._objectRef},enumerable:!0,configurable:!0}),n}(t.Baseline);t.Timeline=e}(j||(j={})),function(t){var e=function(e){function n(n,i,r){e.call(this,n,i),this._info=new t.SpatialInfo,this._spin=r,this.setCurve(0)}return R(n,e),n.prototype.setCurve=function(t,e,n,i,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),this._curveType=t,this._c1=e,this._c2=n,this._c3=i,this._c4=r},Object.defineProperty(n.prototype,"spin",{get:function(){return this._spin},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"curveType",{get:function(){return this._curveType},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c3",{get:function(){return this._c3},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"c4",{get:function(){return this._c4},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"info",{get:function(){return this._info},enumerable:!0,configurable:!0}),n}(t.Key);t.KeyTimeline=e}(j||(j={})),function(t){var e=function(){return function(){this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.pivotX=0,this.pivotY=0,this.alpha=1,this.angle=0}}();t.SpatialInfo=e}(j||(j={})),function(t){var e=function(t){function e(){t.apply(this,arguments)}return R(e,t),e.prototype.setFolderAndFile=function(t,e){this._folder=t,this._file=e},Object.defineProperty(e.prototype,"folder",{get:function(){return this._folder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"file",{get:function(){return this._file},enumerable:!0,configurable:!0}),e}(t.KeyTimeline);t.KeyObject=e}(j||(j={})),function(t){var e=function(t){function e(){t.apply(this,arguments)}return R(e,t),e}(t.KeyTimeline);t.KeyBone=e}(j||(j={})),function(t){var e=function(){function e(){}return e.prototype.load=function(e){this._spriter=new t.Spriter,this._fileType=e.getType();var n=e.getNodes("folder");this.loadFolders(this._spriter,n),n.processed();var i=e.getNodes("tag_list");this.loadTags(this._spriter,i),i.processed();var r=e.getNodes("entity");return this.loadEntities(this._spriter,r),r.processed(),this._spriter},e.prototype.loadFolders=function(t,e){for(var n=0;n<e.length();n++){var i=e.getFolder(n),r=e.getChildNodes(n,"file");this.loadFiles(i,r),r.processed(),t.addFolder(i)}},e.prototype.loadFiles=function(t,e){for(var n=0;n<e.length();n++){var i=e.getFile(n);null!==i&&t.addFile(i)}},e.prototype.loadTags=function(e,n){if(0!==n.length()){var i;i=this._fileType!==t.eFileType.JSON?n.getChildNodes(0,"i"):n;for(var r=0;r<i.length();r++){var o=i.getTag(r);e.addTag(o)}this._fileType!==t.eFileType.JSON&&i.processed()}},e.prototype.loadEntities=function(t,e){for(var n=0;n<e.length();n++){var i=e.getEntity(n),r=e.getChildNodes(n,"obj_info");this.loadObjInfo(i,r),r.processed();var o=e.getChildNodes(n,"character_map");this.loadCharMaps(i,o),o.processed();var a=e.getChildNodes(n,"var_defs");this.loadVariables(i,a),a.processed();var s=e.getChildNodes(n,"animation");this.loadAnimations(i,s),s.processed(),t.addEntity(i)}},e.prototype.loadObjInfo=function(t,e){for(var n=0;n<e.length();n++){var i=e.getObjectInfo(n);t.addObjectInfo(i)}},e.prototype.loadCharMaps=function(t,e){for(var n=0;n<e.length();n++){var i=e.getCharMap(n),r=e.getChildNodes(n,"map");this.loadCharMapEntries(i,r),r.processed(),t.addCharMap(i)}},e.prototype.loadCharMapEntries=function(t,e){for(var n=0;n<e.length();n++)e.getCharMapEntry(n,t,this._spriter)},e.prototype.loadVariables=function(e,n){if(0!==n.length()){var i;i=this._fileType!==t.eFileType.JSON?n.getChildNodes(0,"i"):n;for(var r=0;r<i.length();r++){var o=i.getVariable(r);e.addVariable(o)}this._fileType!==t.eFileType.JSON&&i.processed()}},e.prototype.loadAnimations=function(e,n){for(var i=0;i<n.length();i++){var r=n.getAnimation(i),o=n.getChildNodes(i,"mainline");this.loadMainline(r,o),o.processed();var a=n.getChildNodes(i,"timeline");this.loadTimelines(r,a),a.processed();var s=n.getChildNodes(i,"soundline");this.loadSoundlines(r,s),s.processed();var u=n.getChildNodes(i,"eventline");this.loadEventlines(r,u),u.processed();var c=n.getChildNodes(i,"meta");if(c.length()>0){var h=c.getChildNodes(0,this._fileType!==t.eFileType.JSON?"varline":"valline");this.loadVarlines(e,r,h),h.processed();var l=c.getChildNodes(0,"tagline");this.loadTaglines(r,l),l.processed()}c.processed(),e.addAnimation(r)}},e.prototype.loadMainline=function(e,n){var i=n.getMainline(0);i.type=t.eTimelineType.MAIN_LINE;var r=n.getChildNodes(0,"key");this.loadMainlineKeys(i,r),r.processed(),e.mainline=i},e.prototype.loadMainlineKeys=function(t,e){for(var n=0;n<e.length();n++){for(var i=e.getMainlineKey(n),r=e.getChildNodes(n,"bone_ref"),o=0;o<r.length();o++)i.addBoneRef(r.getRef(o));r.processed();for(var a=e.getChildNodes(n,"object_ref"),s=0;s<a.length();s++)i.addObjectRef(a.getRef(s));a.processed(),t.add(i)}},e.prototype.loadTimelines=function(t,e){for(var n=0;n<e.length();n++){var i=e.getTimeline(n),r=e.getChildNodes(n,"key");this.loadTimelineKeys(i,r),r.processed(),t.addTimeline(i)}},e.prototype.loadTimelineKeys=function(t,e){for(var n=0;n<e.length();n++){var i=e.getTimelineKey(n,this._spriter);t.add(i)}},e.prototype.loadSoundlines=function(e,n){for(var i=0;i<n.length();i++){var r=n.getSoundline(i);r.type=t.eTimelineType.SOUND_LINE;var o=n.getChildNodes(i,"key");this.loadKeys(r,o),o.processed(),e.addLine(r)}},e.prototype.loadKeys=function(t,e){for(var n=0;n<e.length();n++){var i=e.getKey(n);t.add(i)}},e.prototype.loadEventlines=function(e,n){for(var i=0;i<n.length();i++){var r=n.getEventline(i);r.type=t.eTimelineType.EVENT_LINE;var o=n.getChildNodes(i,"key");this.loadKeys(r,o),o.processed(),e.addLine(r)}},e.prototype.loadTaglines=function(e,n){for(var i=0;i<n.length();i++){var r=n.getTagline(i);r.type=t.eTimelineType.TAG_LINE;var o=n.getChildNodes(i,"key");this.loadTagKeys(r,o),o.processed(),e.addLine(r)}},e.prototype.loadTagKeys=function(t,e){for(var n=0;n<e.length();n++){var i=e.getTagKey(n),r=e.getChildNodes(n,"tag"),o=r.getTagChanges(this._spriter);r.processed(),i.tagsOn=o,t.add(i)}},e.prototype.loadVarlines=function(t,e,n){for(var i=0;i<n.length();i++){var r=n.getVarline(i),o=t.getVariableById(r.varDefId).type,a=n.getChildNodes(i,"key");this.loadVariableKeys(r,a,o),a.processed(),e.addLine(r)}},e.prototype.loadVariableKeys=function(t,e,n){for(var i=0;i<e.length();i++){var r=e.getVariableKey(i,n);t.add(r)}},e}();t.Loader=e}(j||(j={})),function(t){var e=function(){function e(){this._folders=new t.IdNameMap,this._tags=new t.IdNameMap,this._entities=new t.IdNameMap}return e.prototype.addFolder=function(t){this._folders.add(t,t.id,t.name)},e.prototype.getFolderById=function(t){return this._folders.getById(t)},e.prototype.getFolderByName=function(t){return this._folders.getByName(t)},e.prototype.addEntity=function(t){this._entities.add(t,t.id,t.name)},e.prototype.getEntityById=function(t){return this._entities.getById(t)},e.prototype.getEntityByName=function(t){return this._entities.getByName(t)},e.prototype.addTag=function(t){this._tags.add(t,t.id,t.name)},e.prototype.getTagById=function(t){return this._tags.getById(t)},e.prototype.getTagByName=function(t){return this._tags.getByName(t)},Object.defineProperty(e.prototype,"tagsLength",{get:function(){return this._tags.length},enumerable:!0,configurable:!0}),e}();t.Spriter=e}(j||(j={})),function(t){var e=function(){function e(){this.timeline=-1,this.timelineKey=-1,this.transformed=new t.SpatialInfo}return e.prototype.setOn=function(t){this._on=t},Object.defineProperty(e.prototype,"on",{get:function(){return this._on},enumerable:!0,configurable:!0}),e.prototype.setKey=function(n,i,r,o){this.timeline=r,this.timelineKey=o;var a=i.getTimelineById(r);this.name=a.name,this.objectInfo=-1===a.objectRef?null:n.getObjectInfoById(a.objectRef);var s=a.at(o),u=a.at(o+1,i.loopType!==t.eAnimationLooping.NO_LOOPING);this.key=s,this.timeFrom=s.time,this.timeTo=u.time,this.timeTo<this.timeFrom&&(this.timeTo=i.length),this.from=s.info,this.to=u.info,this.updateMask=0,Math.abs(this.from.x-this.to.x)>.001&&(this.updateMask+=e.UPDATE_X),Math.abs(this.from.y-this.to.y)>.001&&(this.updateMask+=e.UPDATE_Y),Math.abs(this.from.scaleX-this.to.scaleX)>.001&&(this.updateMask+=e.UPDATE_SCALE_X),Math.abs(this.from.scaleY-this.to.scaleY)>.001&&(this.updateMask+=e.UPDATE_SCALE_Y),Math.abs(this.from.pivotX-this.to.pivotX)>.001&&(this.updateMask+=e.UPDATE_PIVOT_X),Math.abs(this.from.pivotY-this.to.pivotY)>.001&&(this.updateMask+=e.UPDATE_PIVOT_Y),Math.abs(this.from.alpha-this.to.alpha)>.001&&(this.updateMask+=e.UPDATE_ALPHA),Math.abs(this.from.angle-this.to.angle)>.001&&(this.updateMask+=e.UPDATE_ANGLE),this.transformed.x=this.from.x,this.transformed.y=this.from.y,this.transformed.scaleX=this.from.scaleX,this.transformed.scaleY=this.from.scaleY,this.transformed.pivotX=this.from.pivotX,this.transformed.pivotY=this.from.pivotY,this.transformed.angle=this.from.angle,this.transformed.alpha=this.from.alpha},e.prototype.tween=function(n){var i=this.updateMask>0?this.getTweenTime(n):0;this.transformed.x=(this.updateMask&e.UPDATE_X)>0?t.linear(this.from.x,this.to.x,i):this.from.x,this.transformed.y=(this.updateMask&e.UPDATE_Y)>0?t.linear(this.from.y,this.to.y,i):this.from.y,this.transformed.scaleX=(this.updateMask&e.UPDATE_SCALE_X)>0?t.linear(this.from.scaleX,this.to.scaleX,i):this.from.scaleX,this.transformed.scaleY=(this.updateMask&e.UPDATE_SCALE_Y)>0?t.linear(this.from.scaleY,this.to.scaleY,i):this.from.scaleY,this.transformed.pivotX=(this.updateMask&e.UPDATE_PIVOT_X)>0?t.linear(this.from.pivotX,this.to.pivotX,i):this.from.pivotX,this.transformed.pivotY=(this.updateMask&e.UPDATE_PIVOT_Y)>0?t.linear(this.from.pivotY,this.to.pivotY,i):this.from.pivotY,this.transformed.alpha=(this.updateMask&e.UPDATE_ALPHA)>0?t.linear(this.from.alpha,this.to.alpha,i):this.from.alpha,this.transformed.angle=(this.updateMask&e.UPDATE_ANGLE)>0?t.angleLinear(this.from.angle,this.to.angle,this.key.spin,i):this.from.angle},e.prototype.update=function(t){this.transformed.angle*=Phaser.Math.sign(t.scaleX)*Phaser.Math.sign(t.scaleY),this.transformed.angle+=t.angle,this.transformed.scaleX*=t.scaleX,this.transformed.scaleY*=t.scaleY,this.scalePosition(t.scaleX,t.scaleY),this.rotatePosition(t.angle),this.translatePosition(t.x,t.y),this.transformed.alpha*=t.alpha},e.prototype.scalePosition=function(t,e){this.transformed.x*=t,this.transformed.y*=e},e.prototype.rotatePosition=function(t){var e=this.transformed.x,n=this.transformed.y;if(0!==e||0!==n){var i=t*(Math.PI/180),r=Math.cos(i),o=Math.sin(i);this.transformed.x=e*r-n*o,this.transformed.y=e*o+n*r}},e.prototype.translatePosition=function(t,e){this.transformed.x+=t,this.transformed.y+=e},e.prototype.getTweenTime=function(e){if(1===this.key.curveType)return 0;var n=Phaser.Math.clamp((e-this.timeFrom)/(this.timeTo-this.timeFrom),0,1);switch(this.key.curveType){case 0:return n;case 2:return t.quadratic(0,this.key.c1,1,n);case 3:return t.cubic(0,this.key.c1,this.key.c2,1,n);case 4:return t.quartic(0,this.key.c1,this.key.c2,this.key.c3,1,n);case 5:return t.quintic(0,this.key.c1,this.key.c2,this.key.c3,this.key.c4,1,n);case 6:return t.bezier(this.key.c1,this.key.c2,this.key.c3,this.key.c4,n)}return 0},e.UPDATE_X=1,e.UPDATE_Y=2,e.UPDATE_SCALE_X=4,e.UPDATE_SCALE_Y=8,e.UPDATE_PIVOT_X=16,e.UPDATE_PIVOT_Y=32,e.UPDATE_ANGLE=64,e.UPDATE_ALPHA=128,e}();t.SpriterBone=e}(j||(j={})),function(t){var e=function(e){function n(n,i,r,o,a,s){e.call(this,n,null),this.onLoop=new Phaser.Signal,this.onFinish=new Phaser.Signal,this.onSound=new Phaser.Signal,this.onEvent=new Phaser.Signal,this.onTagChange=new Phaser.Signal,this.onVariableSet=new Phaser.Signal,this.onBoxUpdated=new Phaser.Signal,this.onPointUpdated=new Phaser.Signal,this._mainlineStepper=new t.LineStepper,this._lineSteppers=[],this._lineSteppersCount=0,this._bones=[],this._objects=[],this._tags=0,this._vars=[],this._paused=!1,this._spriter=i,this._entityName=o,this._entity=i.getEntityByName(o),this._textureKey=r,this._root=new t.SpatialInfo;for(var u=0;u<this._entity.variablesLength;u++)this._vars[u]=this._entity.getVariableById(u).clone();this._charMapStack=new t.CharMapStack(this._entity),void 0===s&&(s=100),this.setAnimationSpeedPercent(s),null==a?this.playAnimationById(0):"number"==typeof a?this.playAnimationById(a):this.playAnimationByName(a)}return R(n,e),Object.defineProperty(n.prototype,"spriter",{get:function(){return this._spriter},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"entity",{get:function(){return this._entity},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"charMapStack",{get:function(){return this._charMapStack},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"animationsCount",{get:function(){return this._entity.animationsLength},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"currentAnimationName",{get:function(){return this._animationName},enumerable:!0,configurable:!0}),n.prototype.pushCharMap=function(t){this._charMapStack.push(t),this.resetSprites()},n.prototype.removeCharMap=function(t){this._charMapStack.remove(t),this.resetSprites()},n.prototype.clearCharMaps=function(){this._charMapStack.reset(),this.resetSprites()},n.prototype.resetSprites=function(){for(var t=0;t<this._objects.length;t++)this._objects[t].resetFile()},n.prototype.isTagOn=function(t){return this.isTagOnById(this._spriter.getTagByName(t).id)},n.prototype.isTagOnById=function(t){return(this._tags&1<<t)>0},n.prototype.getVariable=function(t){return this.getVariableById(this._entity.getVariableByName(t).id)},n.prototype.getVariableById=function(t){return this._vars[t]},n.prototype.getObject=function(t){for(var e=0;e<this._objects.length;e++){var n=this._objects[e];if(n.name===t)return n}return null},n.prototype.setAnimationSpeedPercent=function(t){void 0===t&&(t=100),this._animationSpeed=t/100},n.prototype.playAnimationById=function(t){var e=this._entity.getAnimationById(t);null!=e?this.playAnimation(e):console.warn("Animation "+t+" for entity "+this._entityName+" does not exist!")},n.prototype.playAnimationByName=function(t){var e=this._entity.getAnimationByName(t);null!=e?this.playAnimation(e):console.warn("Animation "+t+" for entity "+this._entityName+" does not exist!")},n.prototype.playAnimation=function(t){this._animationName=t.name,this._animation=t,this._finished=!1,this._mainlineStepper.reset(),this._mainlineStepper.line=this._animation.mainline,this._time=0,this.resetLines(),this._tags=0;for(var e=0;e<this._vars.length;e++)this._vars[e].reset();this.loadKeys(this._animation.mainline.at(0),!0),this.updateCharacter()},n.prototype.resetLines=function(){this._lineSteppersCount=0;for(var e=0;e<this._animation.linesLength;e++){var n=this._animation.getLineById(e);this._lineSteppersCount>=this._lineSteppers.length&&(this._lineSteppers[this._lineSteppersCount]=new t.LineStepper);var i=this._lineSteppers[this._lineSteppersCount++];i.reset(),i.line=n}},n.prototype.setBones=function(e,n){void 0===n&&(n=!1);for(var i=0;i<this._bones.length;i++)void 0!==this._bones[i]&&this._bones[i].setOn(!1);for(i=0;i<e.length;i++){var r=e[i];if(void 0===this._bones[r.id]){var o=new t.SpriterBone;o.type=1,this._bones[r.id]=o}var a=this._bones[r.id];a.setOn(!0),a.parent=r.parent,(a.timelineKey!==r.key||a.timeline!==r.timeline||n)&&a.setKey(this._entity,this._animation,r.timeline,r.key)}},n.prototype.setObjects=function(e,n){void 0===n&&(n=!1);for(var i=0;i<this._objects.length;i++)void 0!==this._objects[i]&&this._objects[i].setOn(!1);var r=!1;for(i=0;i<e.length;i++){var o=e[i],a=null,s=null;void 0===this._objects[o.id]?(s=new Phaser.Sprite(this.game,0,0,this._textureKey),a=new t.SpriterObject(this,s),this._objects[o.id]=a,this.add(s)):s=(a=this._objects[o.id]).sprite,a.parent=o.parent,a.type=this._animation.getTimelineById(o.timeline).objectType,0===a.type?(a.setOn(!0),a.sprite.z!==o.z&&(a.sprite.z=o.z,r=!0)):a.setOn(!0,!0),(a.timelineKey!==o.key||a.timeline!==o.timeline||n)&&a.setKey(this._entity,this._animation,o.timeline,o.key)}r&&this.sort()},n.prototype.loadKeys=function(t,e){void 0===e&&(e=!1),this.setBones(t.boneRefs,e),this.setObjects(t.objectRefs,e)},n.prototype.updateAnimation=function(){if(!this._paused&&!this._finished){var e,n=this._mainlineStepper;for(this._time>this._animation.length&&(this._animation.loopType===t.eAnimationLooping.NO_LOOPING?(this._time=this._animation.length,this._finished=!0):(this._time-=this._animation.length,this.onLoop.dispatch(this)));null!==(e=n.step(this._time));)this.loadKeys(e),n.lastTime=e.time;this.updateCharacter(),this.updateLines(),this._finished&&this.onFinish.dispatch(this),this._time+=this.game.time.physicsElapsedMS*this._animationSpeed}},n.prototype.updateCharacter=function(){for(var t=0;t<this._bones.length;t++){var e=this._bones[t];if(e.on){var n=-1===e.parent?this._root:this._bones[e.parent].transformed;e.tween(this._time),e.update(n)}}for(t=0;t<this._objects.length;t++){var i=this._objects[t];if(i.on){n=-1===i.parent?this._root:this._bones[i.parent].transformed;i.tween(this._time),i.update(n),0===i.type?i.updateSprite():2===i.type?this.onBoxUpdated.dispatch(this,i):3===i.type&&this.onPointUpdated.dispatch(this,i)}}},n.prototype.updateLines=function(){for(var e=this._lineSteppersCount-1;e>=0;e--)for(var n,i=this._lineSteppers[e],r=i.line;null!==(n=i.step(this._time));){switch(r.type){case t.eTimelineType.SOUND_LINE:this.onSound.dispatch(this,r.name);break;case t.eTimelineType.EVENT_LINE:this.onEvent.dispatch(this,r.name);break;case t.eTimelineType.TAG_LINE:var o=n.tagsOn,a=this._tags^o;this._tags=o;for(var s=0;s<this._spriter.tagsLength;s++){var u=1<<s;a&u&&this.onTagChange.dispatch(this,this._spriter.getTagById(s).name,(o&u)>0)}break;case t.eTimelineType.VAR_LINE:var c=n.value,h=this._vars[r.varDefId];h.value=c,this.onVariableSet.dispatch(this,h)}i.lastTime=n.time}},n}(Phaser.Group);t.SpriterGroup=e}(j||(j={})),function(t){var e=function(t){function e(e,n){t.call(this),this._spriter=e.spriter,this._charMapStack=e.charMapStack,this._sprite=n}return R(e,t),Object.defineProperty(e.prototype,"sprite",{get:function(){return this._sprite},enumerable:!0,configurable:!0}),e.prototype.setOn=function(e,n){void 0===n&&(n=!1),t.prototype.setOn.call(this,e),this._sprite.exists=e&&!n,this._sprite.visible=e&&!this._hide&&!n},e.prototype.setKey=function(e,n,i,r){if(t.prototype.setKey.call(this,e,n,i,r),0===this.type){var o=this.key,a=this._spriter.getFolderById(o.folder).getFileById(o.file);this._file=a,this.setFile(a)}else this._file=null},e.prototype.resetFile=function(){0===this.type&&this.setFile(this._file)},e.prototype.setFile=function(t){null!==(t=this._charMapStack.getFile(t))?(this._hide=!1,this._sprite.frameName=t.name):(this._hide=!0,this._sprite.visible=!1)},e.prototype.updateSprite=function(){var t=this.transformed,e=this.sprite;e.position.set(t.x,t.y),e.scale.set(t.scaleX,t.scaleY),e.anchor.set(t.pivotX,t.pivotY),e.alpha=t.alpha,e.angle=t.angle},e}(t.SpriterBone);t.SpriterObject=e}(j||(j={}));var B=j;var D=function t(e,n){var i=e.game;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameBackground=i.add.sprite(i.world.centerX,i.world.height,n),this.gameBackground.anchor.set(.5,1),this.footerBackground=i.add.sprite(i.world.centerX,i.world.height,"footer"),this.footerBackground.anchor.set(.5,1),this.footerBackground.y=0,i.add.tween(this.footerBackground).to({y:i.world.height},i.rnd.integerInRange(500,1e3),Phaser.Easing.Bounce.Out,!0,500)};function U(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var V=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.visitedStates={}}var e,n,i;return e=t,(n=[{key:"markSolution",value:function(t,e){this.visitedStates[t]||(this.visitedStates[t]=[]),this.visitedStates[t].push(e)}},{key:"hasSolutionBeenUsed",value:function(t,e){return!(!this.visitedStates[t]||-1===this.visitedStates[t].indexOf(e))}}])&&U(e.prototype,n),i&&U(e,i),t}(),K={compareSolution:function(t,e){for(var n=0;n<e.length;n++){var i=1,r=e[n],o="["===r[0]&&"]"===r[r.length-1];return o&&(i=r.split(" ").length,r=(r=r.replace("[","")).replace("]","")),K.getConcatWords(t,i)===r?e.length<=i?t.length<=i:K.compareSolution(t.slice(i),e.slice(n+1)):!!o&&(e.length<=i?0===t.length:K.compareSolution(t,e.slice(n+1)))}return!1},getConcatWords:function(t,e){if(t.length>0){for(var n=t[0],i=1;i<e;i++)n=n.concat(" ",t[i]);return n}}},J=K;function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var G=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.score=0,this.stateData=e,this.setCurrentState(this.stateData.StartAt,this.stateData.States[this.stateData.StartAt]),this.submitSolutionResult=!0,this.userContext=new V,this.default="default"}var e,n,i;return e=t,(n=[{key:"setCurrentState",value:function(t,e){this.currentStateName=t,this.currentState=e}},{key:"printDebugInfo",value:function(){console.log(JSON.stringify(this.stateData))}},{key:"getQuestion",value:function(){return this.currentState.Question}},{key:"getScore",value:function(){return this.score}},{key:"getCurrentStateName",value:function(){return this.currentStateName}},{key:"getOnEnterLeft",value:function(){return null!=this.currentState.OnStateEnter?this.currentState.OnStateEnter.Left:null}},{key:"getOnEnterRight",value:function(){return null!=this.currentState.OnStateEnter?this.currentState.OnStateEnter.Right:null}},{key:"getOnEnterLeftDo",value:function(){return null!=this.currentState.OnStateEnter?this.currentState.OnStateEnter.LeftDo:null}},{key:"getOnEnterRightDo",value:function(){return null!=this.currentState.OnStateEnter?this.currentState.OnStateEnter.RightDo:null}},{key:"getOnExitLeft",value:function(){return null!=this.currentState.OnStateExit?this.currentState.OnStateExit.Left:null}},{key:"getOnExitRight",value:function(){return null!=this.currentState.OnStateExit?this.currentState.OnStateExit.Right:null}},{key:"getOnExitLeftDo",value:function(){return null!=this.currentState.OnStateExit?this.currentState.OnStateExit.LeftDo:null}},{key:"getOnExitRightDo",value:function(){return null!=this.currentState.OnStateExit?this.currentState.OnStateExit.RightDo:null}},{key:"getOnEnterBg",value:function(){return null!=this.currentState.OnStateEnter?this.currentState.OnStateEnter.Background:null}},{key:"getAnswerWords",value:function(){return this.currentState.AnswerWords}},{key:"getShortestSolution",value:function(){var t=null;for(var e in this.currentState.Solutions)"default"!==e&&(!t||e.split(" ").length<t.split(" ").length)&&(t=e);return t}},{key:"isNumber",value:function(t){return"number"==typeof t||"object"===Y(t)&&null!==t&&t.constructor===Number}},{key:"normalizeSolution",value:function(t){return t.toLowerCase().trim()}},{key:"matchSolution",value:function(t){var e;for(var n in this.currentState.Solutions)if(this.currentState.Solutions.hasOwnProperty(n)){var i=this.splitString(t),r=this.splitString(n);if("default"!==n&&J.compareSolution(i,r)){e=n;break}}return void 0===e&&this.currentState.Solutions.default&&this.currentState.Solutions.default.Next?"default":e}},{key:"scoreSolution",value:function(t,e,n){var i=this;return new Promise(function(r,o){dtml.scorePhrase(t,e,function(e){if(e)r(e);else{var n=i.currentState.Solutions[t].Score||i.currentState.Solutions[t].scoreadjustment;i.isNumber(n)?r(n):o(new Error("Could not find a score"))}},n,i.getCurrentStateName())})}},{key:"applyScore",value:function(t){this.score+=t}},{key:"markSolution",value:function(t,e){this.userContext.markSolution(t,e)}},{key:"getUserContext",value:function(){return this.userContext}},{key:"goToNextState",value:function(t){var e=this.currentState.Solutions[t].Next;this.setCurrentState(e,this.stateData.States[e])}},{key:"splitString",value:function(t){for(var e=t.match(/(\[.*?\]|\s.*?\s|.*?\s|.*)/g),n=e.length-1;n>=0;n--)e[n]=e[n].trim(),0===e[n].length&&e.splice(n,1);return e}},{key:"createState",value:function(t,e,n,i,r){var o={};return o.Question=t,o.AnswerWords=e,o.Solutions=n,void 0===i&&(i=!0),o.AwardPoints=i,void 0===r&&(r=!1),o.SuggestPhrase=r,o}},{key:"formatSolution",value:function(t){for(var e=t.split(" "),n=e.length-1;n>=0;n--)if("i"===e[n]&&(e[n]="I"),e[n].includes("["))for(var i=n;i<e.length;i++)if(e[i].includes("]")){e.splice(n,i-n+1);break}return e.join(" ")}},{key:"submitSolutionResult",set:function(t){this._submitSolutionResult=t},get:function(){return this._submitSolutionResult}}])&&W(e.prototype,n),i&&W(e,i),t}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function z(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,q(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,Phaser.State),n=e,(i=[{key:"init",value:function(){this.stateMachine=new G(game.gameModule)}},{key:"create",value:function(){var t=this;this.cursors=game.input.keyboard.createCursorKeys(),this.phaserJSON=game.gameModule,dtml.initVoices(),this.leftCharacterVoice=this.getVoiceFromGender(this.phaserJSON.Setup.LeftVoice),this.rightCharacterVoice=this.getVoiceFromGender(this.phaserJSON.Setup.RightVoice),this.language=this.game.state.states.Game._language,this.langCode=this.game.state.states.Game._langCode;var e=this.stateMachine.getOnEnterBg()||this.phaserJSON.Setup.StartingBackground;this.bg=new D({game:this.game},"bg_"+e);var n=game.add.audio("gameMusic");n.onDecoded.add(function(){n.fadeIn(4e3),t.time.events.add(25e3,function(){n.fadeOut(4e3)},t)},this),this.music=n,this.steps=game.add.audio("steps"),this.awardNoPoints=!1,this.createSprites();this.textBox=this.add.inputField(this.world.centerX-325*game.scaleRatio,this.game.height-115-100*game.scaleRatio+17,{font:"40px Arial",fill:"#212121",fontWeight:"bold",width:650,padding:8,visible:!1,borderWidth:1,borderColor:"#000",borderRadius:6,placeHolder:"Your answer:",focusOutOnEnter:!0,disabled:!0}),this.enterButton=null,this.deleteButton=null,this.repeatButton=null,this.hintButton=null,this.textBox.scale.set(0,1*game.scaleRatio),this.textBox.disabled=!0,this.textBox.visible=!1,game.add.tween(this.textBox.scale).to({x:1*game.scaleRatio},500,Phaser.Easing.Cubic.Out,!0,2500).onComplete.add(function(){var e=game.add.sprite(0,0,"iconAttack");e.anchor.set(.5),e.x=t.textBox.x+t.textBox.width*game.scaleRatio,e.y=t.textBox.y+t.textBox.height/2,e.inputEnabled=!0,e.input.priorityID=0,e.input.useHandCursor=!0,e.events.onInputDown.add(t.submitSolution,t),t.enterButton=e,t.enterButton.visible=!1,t.textBox.visible=!1;var n=game.add.sprite(0,0,"iconDelete");n.anchor.set(.5),n.x=t.textBox.x+t.textBox.width*game.scaleRatio+e.width+5,n.y=t.textBox.y+t.textBox.height/2,n.inputEnabled=!0,n.input.priorityID=0,n.input.useHandCursor=!0,n.events.onInputDown.add(t.deleteBox,t),t.deleteButton=n,t.deleteButton.visible=!1;var i=game.add.sprite(0,0,"iconRepeat");i.x=game.stage.width-i.width-10,i.y=game.stage.height-i.height-150,i.inputEnabled=!0,i.input.priorityID=0,i.input.useHandCursor=!0,i.events.onInputDown.add(t.repeatQuestion,t),t.repeatButton=i,t.repeatButton.visible=!1;var r=game.add.sprite(0,0,"iconHint");r.x=i.x-r.width-20,r.y=i.y,r.inputEnabled=!0,r.input.useHandCursor=!0,r.events.onInputDown.add(t.showHint,t),t.hintButton=r,t.hintButton.visible=!1})}},{key:"update",value:function(){this.onSelection&&(this.game.input.keyboard.justPressed(Phaser.KeyCode.RIGHT)&&(this.listView.items[this.selection].frame=0,this.selection+=1,this.selection>this.ansLength-1&&(this.selection=0),this.listView.items[this.selection].frame=1),this.game.input.keyboard.justPressed(Phaser.KeyCode.LEFT)&&(this.listView.items[this.selection].frame=0,this.selection-=1,this.selection<0&&(this.selection=this.ansLength-1),this.listView.items[this.selection].frame=1),(this.game.input.keyboard.justPressed(Phaser.KeyCode.UP)||this.game.input.keyboard.justPressed(Phaser.KeyCode.SPACEBAR))&&this.addCharToNode(this.listView.items[this.selection]),(this.game.input.keyboard.justPressed(Phaser.KeyCode.DOWN)||this.game.input.keyboard.justPressed(Phaser.KeyCode.BACKSPACE))&&this.deleteBox(),this.game.input.keyboard.justPressed(Phaser.KeyCode.ENTER)&&!0===this.enterButton.visible&&this.submitSolution()),this.leftCharacter.updateAnimation(),this.rightCharacter.updateAnimation(),this.textBox.endFocus(),this.stateMachine&&this.scoreText&&(this.scoreText.text=this.stateMachine.getScore())}},{key:"createSprites",value:function(){var t=this;this.errorText=new F({game:this.game,x:.5*this.world.width,y:this.game.world.centerY,text:"Error connecting. Retrying...",cloudEnabled:!0}),this.correctText=new F({game:this.game,x:.25*this.world.width,y:.7*this.game.world.centerY,text:"0",cloudEnabled:!0}),this.addScoreText=new F({game:this.game,x:.75*this.world.width,y:.7*this.game.world.centerY,text:"0",cloudEnabled:!0}),this.game.input.keyboard.addKey(Phaser.Keyboard.ENTER).onDown.add(this.submitSolution,this),this.spritesGroup=this.add.group(),this.leftCharacter=this.loadSpriter("leftCharacter"),this.leftCharacter.x=-200*game.scaleRatio,this.leftCharacter.y=this.world.height-470+parseInt(this.phaserJSON.Setup.LeftAddY),this.spritesGroup.add(this.leftCharacter),this.rightCharacter=this.loadSpriter("rightCharacter"),this.rightCharacter.scale.x*=-1,this.rightCharacter.children.forEach(function(t){t.anchor.set(0,1)}),this.rightCharacter.x=game.width+180*game.scaleRatio,this.rightCharacter.startx=.75*this.world.width*game.scaleRatio,this.rightCharacter.y=this.world.height-460+parseInt(this.phaserJSON.Setup.RightAddY),this.rightCharacter.setAnimationSpeedPercent(100),this.rightCharacter.playAnimationByName("_IDLE"),this.spritesGroup.add(this.rightCharacter),this.patienceRemaining=5,this.leftCharacter.setAnimationSpeedPercent(100),this.leftCharacter.playAnimationByName("_RUN"),game.add.tween(this.leftCharacter).to({x:.4*this.world.width*game.scaleRatio},1500,Phaser.Easing.Linear.None,!0,1500).onComplete.add(function(){t.leftCharacter.setAnimationSpeedPercent(100),t.leftCharacter.playAnimationByName("_IDLE");t.patienceBarsGroup=t.add.group(),t.patienceBars=new Array(5);for(var e=1;e<6;e++){var n=game.make.sprite(90*(e-1),0,"patienceBar"+e);t.patienceBarsGroup.add(n),t.patienceBars[5-e]=n}t.patienceBarsGroup.x=.1*t.world.width,t.patienceBarsGroup.y=.1*t.game.world.centerY-15,t.ConversationStart()}),this.rightCharacter.setAnimationSpeedPercent(100),this.rightCharacter.playAnimationByName("_RUN"),game.add.tween(this.rightCharacter).to({x:.7*this.world.width*game.scaleRatio},1500,Phaser.Easing.Linear.None,!0,1500).onComplete.add(function(){t.rightCharacter.setAnimationSpeedPercent(100),t.rightCharacter.playAnimationByName("_IDLE");game.add.image(.78*t.world.width,.02*t.game.world.centerY,"scoreBar");t.scoreText=game.add.text(.89*t.world.width,.16*t.game.world.centerY,"0",{font:"60px Berkshire Swash",fill:"black"}),t.scoreText.anchor.setTo(.5,.5)})}},{key:"ConversationStart",value:function(){this.nextQuestion()}},{key:"submitSolution",value:function(){var t=this;if(this.textBox.value.length>0){this.deleteButton.visible=!1,this.enterButton.visible=!1,this.textBox.visible=!1,this.repeatButton.visible=!1,this.hintButton.visible=!1,this.onSelection=!1,this.destroySideMenu();var e=this.textBox.value;this.textBox.setText(""),this.isLeftCharacterSpeaking()&&this.leftCharacterStopSpeaking(),this.rightCharacterSpeak(e),this.time.events.add(2500,function(){var n=t.playExitAnimations();t.time.events.add(n,function(){var n=t,i=t.stateMachine.normalizeSolution(e),r=t.stateMachine.matchSolution(i);if(r)"default"===r||t.stateMachine.getUserContext().hasSolutionBeenUsed(t.stateMachine.getCurrentStateName(),r)||(t.awardNoPoints||t.stateMachine.scoreSolution(i,!0,"conversation_"+t.phaserJSON.Setup.Name).then(function(t){n.stateMachine.applyScore(t)}).catch(function(t){console.log(t)}),t.stateMachine.markSolution(t.stateMachine.getCurrentStateName(),r)),t.stateMachine.goToNextState(r),t.nextQuestion();else{if(t.stateMachine.applyScore(-10),!(t.patienceRemaining>1))return dtml.recordGameEvent("conversation_"+t.phaserJSON.Setup.Name,"LivesEnded",t.scoreText.text),void t.state.start("GameOver",!0,!1,t.scoreText.text);t.patienceBars[t.patienceRemaining-1].kill(),t.patienceRemaining-=1;var o=t.stateMachine.currentState.SuggestPhrase;void 0===o&&(o=t.phaserJSON.Setup.PhraseCorrection),window.navigator.onLine&&o?(t.showThoughtDots(),t.getSuggestedPath().then(function(t){""!==t?(n.stateMachine.setCurrentState("Suggestion",t),n.nextQuestion()):this.repeatCurrentQuestion()}).catch(function(t){console.log(t),n.repeatCurrentQuestion()})):t.repeatCurrentQuestion()}},t)},this)}}},{key:"getSuggestedPath",value:function(t){var e=this;return new Promise(function(n,i){var r=e.removeScoresFromSolutions(e.stateMachine.currentState.Solutions);dtml.getSuggestedPath(e.phaserJSON.Setup.Name,e.stateMachine.getCurrentStateName(),t,r,function(t){e.interpretSuggestedState(t,n,i)})})}},{key:"interpretSuggestedState",value:function(t,e,n){if(200===t.status)if(t.data){var i=t.data,r=this.stateMachine.getCurrentStateName(),o=this.stateMachine.getShortestSolution(),a=this.stateMachine.formatSolution(o),s='Did you mean: "'+a+'"?',u=["Yes","No"].concat(a.split(" ")),c={yes:{Next:i},default:{Next:r}};c[o]={Next:i},c["yes "+o]={Next:i},e(this.stateMachine.createState(s,u,c,!1,!1))}else e("");else n(new Error("No suggested state - Got bad response from server"))}},{key:"rightCharacterSpeak",value:function(t){this.rightCharacter.setAnimationSpeedPercent(100),this.rightCharacter.playAnimationByName("_SAY"),dtml.textToSpeech(t,this.rightCharacterVoice,this.phaserJSON.Setup.RightPitch);var e=this.game.add.text(this.rightCharacter.x+parseInt(this.phaserJSON.Setup.CallOutRightX),this.rightCharacter.y-parseInt(this.phaserJSON.Setup.CallOutRightY),t,{font:"30px Berkshire Swash",fill:"#000",align:"center",wordWrap:!0,wordWrapWidth:300});e.anchor.setTo(.5),this.time.events.add(2500,function(){e.kill()},this)}},{key:"deleteBox",value:function(){this.textBox.setText("")}},{key:"nextQuestion",value:function(){var t=this;"End"===this.stateMachine.currentStateName&&(dtml.recordGameEnd("conversation_"+this.phaserJSON.Setup.Name,this.scoreText.text,"End"),this.state.start("GameOver",!0,!1,this.scoreText.text));var e=this.playEntranceAnimations();this.time.events.add(e,function(){t.leftCharacterSpeak(t.stateMachine.getQuestion()),t.time.events.add(t.timeToSpeak(t.stateMachine.getQuestion()),function(){t.leftCharacter.setAnimationSpeedPercent(100),t.leftCharacter.playAnimationByName("_IDLE"),t.createSideMenu(),t.deleteButton.visible=!0,t.enterButton.visible=!0,t.textBox.visible=!0,t.repeatButton.visible=!0,t.hintButton.visible=!0},t)},this)}},{key:"repeatCurrentQuestion",value:function(){var t=this;this.leftCharacterSpeak("I'm sorry, I didn't understand you..."),this.time.events.add(5e3,function(){t.rightCharacter.setAnimationSpeedPercent(100),t.rightCharacter.playAnimationByName("_IDLE"),t.nextQuestion()})}},{key:"leftCharacterSpeak",value:function(t){var e=this;this.isLeftCharacterSpeaking()&&this.leftCharacterStopSpeaking(),this.leftCharacter.setAnimationSpeedPercent(100),this.leftCharacter.playAnimationByName("_SAY"),dtml.textToSpeech(t,this.leftCharacterVoice,this.phaserJSON.Setup.LeftPitch),this.leftCharacterLabel=this.game.add.text(this.leftCharacter.x-parseInt(this.phaserJSON.Setup.CallOutLeftX),this.leftCharacter.y-parseInt(this.phaserJSON.Setup.CallOutLeftY),t,{font:"30px Berkshire Swash",fill:"#000",align:"center",wordWrap:!0,wordWrapWidth:300});var n=this.timeToSpeak(t);this.leftCharacterLabel.anchor.setTo(.5),this.leftCharacterSpeechTimer=this.time.events.add(n,function(){e.leftCharacter.playAnimationByName("_IDLE"),e.leftCharacterLabel.kill(),e.leftCharacterLabel=null},this)}},{key:"showThoughtDots",value:function(){this.leftCharacter.x,parseInt(this.phaserJSON.Setup.CallOutLeftX);var t=this.leftCharacter.y-parseInt(this.phaserJSON.Setup.CallOutLeftY);this.leftCharacterLabel=this.game.add.sprite(this.leftCharacter.x,t,"loadingAnimation"),this.leftCharacterLabel.animations.add("spin",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],60,!0),this.leftCharacterLabel.animations.play("spin"),this.leftCharacterLabel.anchor.setTo(.5,.5)}},{key:"clearThoughtDots",value:function(){this.leftCharacterLabel.destroy(),this.leftCharacterLabel=null}},{key:"timeToSpeak",value:function(t){var e=t.split(" ").length/2;return 1e3*(e=e>4?e:4)}},{key:"leftCharacterStopSpeaking",value:function(){this.leftCharacterLabel.kill(),this.time.events.remove(this.leftCharacterSpeechTimer),this.leftCharacter.playAnimationByName("_IDLE")}},{key:"isLeftCharacterSpeaking",value:function(){if(this.leftCharacterLabel)return!0}},{key:"repeatQuestion",value:function(t){dtml.recordGameEvent("conversation_"+this.phaserJSON.Setup.Name,"repeat",this.stateMachine.getCurrentStateName()),this.leftCharacterSpeak(this.stateMachine.getQuestion())}},{key:"showHint",value:function(){var t=this.stateMachine.getShortestSolution();if((t=this.stateMachine.formatSolution(t))&&t.length>0){dtml.recordGameEvent("conversation_"+this.phaserJSON.Setup.Name,"hint",this.stateMachine.getCurrentStateName());for(var e=this.listView.items.length-1;e>=0;e--)for(var n=this.listView.items[e],i=0;i<n.length;i++)n.getChildAt(i).text&&!t.toLowerCase().split(" ").includes(n.getChildAt(i).text.toLowerCase().trim())&&(this.listView.remove(n),n.destroy(!0));this.awardNoPoints=!0}}},{key:"showMenu",value:function(){this.errorText.hide(),this.correctText.text.destroy(),this.addScoreText.text.destroy(),this.correctText.destroy(),this.addScoreText.destroy(),this.music.destroy(),this.state.start("Menu")}},{key:"addCharToNode",value:function(t){var e=0,n=0;this.listView.items.forEach(function(i){i.frame=0,i.text===t.text&&(t.frame=1,e=n),n++}),this.selection=e,this.textBox.setText(this.textBox.value+" "+t.text)}},{key:"createSideMenu",value:function(){var t=this;this.onSelection=!0,!0===this.stateMachine.currentState.awardPoints||void 0===this.stateMachine.currentState.awardPoints?this.awardNoPoints=!1:this.awardNoPoints=!0,this.sidemenu=this.game.add.sprite(this.game.width,this.game.height,"sidemenu"),this.sidemenu.height=this.game.height,this.sidemenu.width=this.game.width;this.listView=new k.ListView(this.game,this.game.world,new Phaser.Rectangle(50,this.sidemenu.height-128,this.sidemenu.width,this.sidemenu.height-10),{direction:"x",overflow:100,padding:10,swipeEnabled:!0,offsetThreshold:100,searchForClicks:!0});var e;this.selection=0,this.ansLength=0;var n=[];for(this.stateMachine.getAnswerWords().forEach(function(i){t.ansLength+=1;var r=t.game.add.group(),o=t.game.add.sprite(0,0,"sidebg");o.text=i.trim();var a=t.game.add.text(0,0,i),s=Math.max(a.width+50,o.width);o.width=s,e=new Phaser.Rectangle(o.x,o.y,o.width,o.height),a.alignIn(e,Phaser.CENTER),o.frame=0,r.addChild(o),r.addChild(a),a.inputEnabled=!0,a.input.priorityID=0,a.input.useHandCursor=!0,a.events.onInputDown.add(t.addCharToNode,t),o.inputEnabled=!0,o.input.priorityID=0,o.input.useHandCursor=!0,o.events.onInputDown.add(t.addCharToNode,t),n.push(r)});n.length>0;){var i=this.rnd.between(0,n.length-1);this.listView.add(n[i]),n.splice(i,1)}this.listView.items[this.selection].frame=1}},{key:"destroySideMenu",value:function(){this.sidemenu.kill(),this.listView.grp.visible=!1}},{key:"loadSpriter",value:function(t){this.spriterLoader||(this.spriterLoader=new B.Loader);var e=new B.SpriterXml(game.cache.getXML(t+"Animations")),n=this.spriterLoader.load(e),i=n._entities._items[0].name;return new B.SpriterGroup(game,n,t,i)}},{key:"removeScoresFromSolutions",value:function(t){var e={};for(var n in t)e[n]=t[n].Next;return e}},{key:"getVoiceFromGender",value:function(t){if("male"===t){for(var e=0;e<dtml.listOfVoices.length;e++)if(-1!==dtml.listOfVoices[e].name.search("David"))return dtml.listOfVoices[e].name}else for(var n=0;n<dtml.listOfVoices.length;n++)if(-1!==dtml.listOfVoices[n].name.search("Zira"))return dtml.listOfVoices[n].name}},{key:"playEntranceAnimations",value:function(){var t=this,e=0,n=this.stateMachine.getOnEnterLeft()||"",i=this.stateMachine.getOnEnterRight()||"",r=this.stateMachine.getOnEnterBg()||"",o=this.stateMachine.getOnEnterLeftDo()||"",a=this.stateMachine.getOnEnterRightDo()||"";return""!==o&&("in"===o&&this.walkTo(this.leftCharacter,"right",-300*game.scaleRatio,.4*this.world.width*game.scaleRatio,1500),"out"===o&&this.walkTo(this.leftCharacter,"left",.4*this.world.width*game.scaleRatio,-300*game.scaleRatio,1500)),""!==a&&("in"===a&&this.walkTo(this.rightCharacter,"left",game.width+180*game.scaleRatio,.7*this.world.width*game.scaleRatio,1500),"out"===a&&this.walkTo(this.rightCharacter,"right",.7*this.world.width*game.scaleRatio,game.width+180*game.scaleRatio,1500)),""!==n&&(this.leftCharacter.playAnimationByName(n),e=2e3),""!==i&&("BringFood"===i?(this.rightCharacter.scale.x*=-1,this.rightCharacter.playAnimationByName("_WALK"),game.add.tween(this.rightCharacter).to({x:.7*this.world.width*game.scaleRatio},1500,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){t.rightCharacter.setAnimationSpeedPercent(100),t.rightCharacter.playAnimationByName("_IDLE")}),e=2e3):(this.rightCharacter.playAnimationByName(i),e=2e3)),""!==r&&this.bg.gameBackground.loadTexture("bg_"+r),e}},{key:"playExitAnimations",value:function(){var t=this.stateMachine.currentStateName,e=this.stateMachine.getOnExitLeft()||"",n=this.stateMachine.getOnExitRight()||"",i=this.stateMachine.getOnExitLeftDo()||"",r=this.stateMachine.getOnExitRightDo()||"",o=0;return t!==this.stateMachine.currentStateName&&(""!==i&&("in"===i&&this.walkTo(this.leftCharacter,"right",i,-300*game.scaleRatio,.4*this.world.width*game.scaleRatio,1500),"out"===i&&this.walkTo(this.leftCharacter,"left",.4*this.world.width*game.scaleRatio,-300*game.scaleRatio,1500)),""!==r&&("in"===r&&this.walkTo(this.rightCharacter,"left",game.width+180*game.scaleRatio,.7*this.world.width*game.scaleRatio,1500),"out"===r&&this.walkTo(this.rightCharacter,"right",.7*this.world.width*game.scaleRatio,game.width+180*game.scaleRatio,1500)),""!==e&&(this.leftCharacter.playAnimationByName(e),o=2e3),""!==n&&(this.rightCharacter.playAnimationByName(n),o=2e3)),this.rightCharacter.setAnimationSpeedPercent(100),this.rightCharacter.playAnimationByName("_IDLE"),o}},{key:"walkTo",value:function(t,e,n,i,r){t.scale.x="right"===e?Math.abs(t.scale.x):-Math.abs(t.scale.x),t.x=n,game.add.tween(t).to({x:i},r,Phaser.Easing.Linear.None,!0,0).onComplete.add(function(){t.setAnimationSpeedPercent(100),t.playAnimationByName("_IDLE")})}}])&&H(n.prototype,i),r&&H(n,r),e}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),et(this,nt(e).apply(this,arguments))}var n,i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,Phaser.State),n=e,(i=[{key:"init",value:function(t){this.phaserJSON=game.gameModule,this.game.stage.backgroundColor="#00B3C1",game.add.sprite(game.world.centerX,game.world.centerY,"gameover").anchor.set(.5),this.setText(t)}},{key:"shutdown",value:function(){game.world.remove(this.loadingText)}},{key:"create",value:function(){this.spritesGroup=this.add.group(),this.leftCharacter=this.loadSpriter("leftCharacter"),this.leftCharacter.x=240*game.scaleRatio,this.leftCharacter.y=this.world.height-470,this.spritesGroup.add(this.leftCharacter),this.leftCharacter.playAnimationByName("_IDLE"),this.rightCharacter=this.loadSpriter("rightCharacter"),this.rightCharacter.scale.x*=-1,this.rightCharacter.children.forEach(function(t){t.anchor.set(0,1)}),this.rightCharacter.x=game.width-260*game.scaleRatio,this.rightCharacter.startx=.75*this.world.width*game.scaleRatio,this.rightCharacter.y=this.world.height-460,this.rightCharacter.setAnimationSpeedPercent(100),this.rightCharacter.playAnimationByName("_IDLE"),this.spritesGroup.add(this.rightCharacter)}},{key:"loadSpriter",value:function(t){this.spriterLoader||(this.spriterLoader=new B.Loader);var e=new B.SpriterXml(game.cache.getXML(t+"Animations")),n=this.spriterLoader.load(e),i=n._entities._items[0].name;return new B.SpriterGroup(game,n,t,i)}},{key:"setText",value:function(t){this.game.add.text(game.world.centerX,game.world.centerY+80,t,{font:"100px Berkshire Swash",fill:"#000",align:"center",wordWrap:!0,wordWrapWidth:800}).anchor.setTo(.5)}},{key:"update",value:function(){this.leftCharacter.updateAnimation(),this.rightCharacter.updateAnimation(),game.input.activePointer.isDown&&this.nextState()}},{key:"nextState",value:function(){this.state.start("Game")}}])&&tt(n.prototype,i),r&&tt(n,r),e}();function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}dtml=dtml.dtml;var ct=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);document.documentElement;return(t=at(this,st(e).call(this,1920,1080,Phaser.CANVAS,"content",null))).state.add("Boot",h,!1),t.state.add("Splash",S,!1),t.state.add("Menu",I,!1),t.state.add("Game",$,!1),t.state.add("GameOver",rt,!1),window.cordova,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,Phaser.Game),e}();window.game=new ct;var ht,lt,ft=new URLSearchParams(window.location.search),pt=ft.get("name"),dt=ft.get("version");("true"===ft.get("test")?new Promise(function(t,e){var n=setTimeout(function(){e(new Error("Could not load testing game data"))},1e4);window.onmessage=function(e){(function(t){try{var e=JSON.parse(t);if(e&&"object"===ot(e))return!0}catch(t){}return!1})(e.data)&&(clearTimeout(n),t(e.data))}}).then(function(t){game.gameModule=JSON.parse(t),game.state.start("Boot")}).catch(function(t){console.log(t),game.state.start("Boot")}):(pt&&dt||(pt=prompt("Which game module would you like to run?"),dt=prompt("Which version would you like to run?")),(ht=pt,lt=dt,new Promise(function(t,e){var n=setTimeout(function(){e(new Error("Took too long to load game data"))},1e4),i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(clearTimeout(n),t(i.responseText))},i.addEventListener("error",function(t){clearTimeout(n),e(t)});var r="https://dtml.org/api/DialogService/Dialog?name="+ht+"&version="+lt;i.open("Get",r),i.send(null)})).then(function(t){game.gameModule=JSON.parse(t),game.state.start("Boot")}).catch(function(t){console.log("Error loading module: "+t),game.gameModule=pt,game.state.start("Boot")})),window.cordova)&&{initialize:function(){document.addEventListener("deviceready",this.onDeviceReady.bind(this),!1)},onDeviceReady:function(){this.receivedEvent("deviceready"),game.state.start("Boot")},receivedEvent:function(t){console.log("Received Event: "+t)}}.initialize();window.videoLoaded=!1,window.videoElapsed=0,window.addEventListener("load",function(){var t=document.getElementById("intro");!function e(){window.videoElapsed+=500,4===t.readyState?window.videoLoaded=!0:setTimeout(e,500)}()},!1)}]);